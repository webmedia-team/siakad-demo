var c=Object.defineProperty;var n=(i,s,t)=>s in i?c(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var o=(i,s,t)=>(n(i,typeof s!="symbol"?s+"":s,t),t);import{C as u,c as a,B as p}from"./index.d57021e8.js";import{m as g}from"./map-actions.609b7ae0.js";class h extends u{async componentWillMount(){const s={model:["academicYears","academicPeriods","studyPrograms","getClassGroups"]},{status:t,data:e}=await this.getData(s);t==200&&(this.studyPrograms=e.studyPrograms,this.academicYears=e.academicYears,this.academicPeriods=e.academicPeriods,this.classGroup=e.getClassGroups)}render(){var s,t;return a("div",{class:"intro-y"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},a("h4",{class:"mb-sm-0"},(s=this.meta.title)!=null?s:"Untitled Page"),a("div",{className:"page-title-right"},a("div",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-link",{link:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Laporan"),a("li",{className:"breadcrumb-item"},"Mahasiswa"),a("li",{className:"breadcrumb-item active"},(t=this.meta.title)!=null?t:"Untitled Page")))))),a("div",{className:"card col-5",style:{marginLeft:440}},a("form",{onSubmit:this.handleSubmit},a("div",{className:"card-body "},a("div",{className:"mb-3"},a("label",{htmlFor:""},"Program Studi ",a("span",{className:"text-danger"},"*")),a("select",{name:"study_program_id",id:"study_program",className:"from-control js-choices dt-filter-input"},a("option",{value:""},"Pilih"),a("option",{value:"all"},"Semua Program Studi"),this.studyPrograms.map(e=>a("option",{value:e.id},e.education_level.code," - ",e.name)))),a("div",{className:"mb-3"},a("label",{htmlFor:""},"Periode Akademik ",a("span",{className:"text-danger"},"*")),a("select",{name:"academic_period_id",id:"academic_period_id",className:"from-control js-choices dt-filter-input"},a("option",{value:""},"Pilih"),this.academicPeriods.map(e=>a("option",{value:e.id},e.name)))),a("div",{className:"mb-3"},a("label",{htmlFor:""},"Grup Kelas ",a("span",{className:"text-danger"},"*")),a("select",{name:"class_grup_id",id:"class_grup_id",className:"from-control js-choices dt-filter-input"},a("option",{value:""},"Pilih"),a("option",{value:"all"},"Semua Kelas"),this.classGroup.map(e=>a("option",{value:e.hashid},e.name)))),a("div",{className:"mb-3"},a("label",{htmlFor:""},"Status ",a("span",{className:"text-danger"},"*")),a("select",{name:"status_guardianship",id:"status_guardianship",className:"from-control js-choices dt-filter-input",required:!0},a("option",{value:""},"Pilih"),a("option",{value:"all"},"Semua Satatus"),a("option",{value:"true"},"Sudah Perwalian"),a("option",{value:"false"},"Belum Perwalian")))),a("div",{className:"card-footer text-end"},a("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},"Cetak")))))}handleSubmit(s){s.preventDefault();let t=$('select[name="academic_period_id"]').val(),e=$('select[name="class_grup_id"]').val(),d=$('select[name="status_guardianship"]').val(),m=$('select[name="study_program_id"]').val();const r=`${p}/api/v1/report/student/guardianships/print?academic_period_id=${t}&class_grup_id=${e}&status_guardianship=${d}&study_program_id=${m}`,l=window.open(`${r}`,"_blank","resizable=yes,scrollbars=yes,status=yes");l&&(l.opener=null,l.location=`${r}`,l.addEventListener("beforeunload",function(){l.location=`${r}`}))}}o(h,"defaultProps",{...g(["getStudyPrograms","getAcademicYears","getClassGroups","getData"]),table:null,studyPrograms:[],academicYears:[],academicPeriods:[],classGroup:[]});export{h as default};
