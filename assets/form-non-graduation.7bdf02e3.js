var d=Object.defineProperty;var u=(i,e,t)=>e in i?d(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var c=(i,e,t)=>(u(i,typeof e!="symbol"?e+"":e,t),t);import{C as p,c as a,g as n,p as b,u as m}from"./index.d57021e8.js";import{m as N}from"./map-actions.609b7ae0.js";const o="lecture/graduations";m("");m("");m("");class g extends p{render(){var e,t,l,r;return a("div",{className:"intro-y"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},a("h4",{className:"mb-sm-0 title"},(t=(e=this.meta)==null?void 0:e.title)!=null?t:"Untitled Page"),a("div",{className:"page-title-right"},a("ol",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-name",{name:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Perkuliahan"),a("li",{className:"breadcrumb-item"},a("router-name",{name:"apps.lecture.graduations"},"Kelulusan")),a("li",{className:"breadcrumb-item active title"},(r=(l=this.meta)==null?void 0:l.title)!=null?r:"Untitled Page")))))),a("div",{className:"text-center mb-3"},a("div",{class:"btn-group",role:"group","aria-label":"Basic example"},a("router-name",{name:"apps.lecture.graduations.create-graduation",class:"btn btn-primary"},"Kelulusan"),a("router-name",{name:"apps.lecture.graduations.create-non-graduation",class:"btn btn-primary"},"Drop Out / Lainnya"))),a("div",{className:"row mt-5"},a("div",{className:"col-md-8"},a("div",{className:"card intro-y"},a("div",{className:"card-body"},a("form",{enctype:"multipart/form-data",onsubmit:this.submit},a("div",{className:"mb-3"},a("div",{className:"mb-3"},a("label",{htmlFor:"student",className:"from-label"},"Mahasiswa  ",a("span",{className:"text-danger"},"*")),a("select",{name:"student_id",id:"student",className:"form-control js-choices"}),a("small",null,a("span",{className:"text-danger"},"*")," Ketik nama mahasiswa untuk mencari")),a("div",{className:"input-groups mb-3"},a("label",{htmlFor:"student-status-id"},"Status Keluar ",a("span",{className:"text-danger"},"*")),a("select",{className:"form-control js-choices",name:"student_status_id",id:"student-status-id"},this.studentStatuses.map(s=>a("option",{value:s.id},s.name)))),a("div",{className:"input-groups mb-3"},a("label",{for:"graduation-date",className:"form-label"},"Tanggal Keluar ",a("i",{className:"text-danger"},"*")," "),a("input",{type:"text",id:"graduation-date",className:"form-control flatpickr-date",name:"graduation_date",placeholder:"Tanggal Kelulusan",autocomplete:"off"})),a("div",{className:"input-groups mb-3"},a("label",{for:"graduation-period",className:"form-label"},"Periode Keluar ",a("i",{className:"text-danger"},"*")," "),a("select",{name:"academic_period_id",id:"graduation-period",className:"from-control js-choices"},a("option",{value:""},"Pilih Periode Keluar"),this.academicPeriods.map(s=>a("option",{value:s.id},s.name)))),a("div",{className:"input-groups mb-3"},a("label",{for:"judiciary-date",className:"form-label"},"Tanggal SK ",a("i",{className:"text-danger"},"*")," "),a("input",{type:"text",id:"judiciary-date",className:"form-control flatpickr-date",name:"judiciary_date",placeholder:"Tanggal SK",autocomplete:"off"})),a("div",{className:"input-groups mb-3"},a("label",{for:"judiciary-number",className:"form-label"},"Nomor SK ",a("i",{className:"text-danger"},"*")," "),a("input",{type:"text",id:"judiciary-number",className:"form-control",name:"judiciary_number",placeholder:"Nomor SK",autocomplete:"off"})),a("div",{className:"input-groups mb-3"},a("label",{for:"certificate-number",className:"form-label"},"Nomor Ijazah ",a("i",{className:"text-danger"},"*")," "),a("input",{type:"text",id:"certificate-number",className:"form-control",name:"certificate_number",placeholder:"Nomor Ijazah",autocomplete:"off"})),a("div",{className:"input-groups mb-3"},a("label",{for:"description",className:"form-label"},"Keterangan "),a("textarea",{id:"description",className:"form-control ",name:"description",autocomplete:"off"}))),a("div",{className:"card-footer pb-0 text-end"},a("router-name",{className:"btn btn-dark mx-1",name:"apps.lecture.graduations"},"Kembali"),a("button",{className:"btn btn-primary save-btn",type:"submit","data-form-loading":!0},a("i",{className:"bx bx-save"})," Simpan"))))))))}async componentWillMount(){const e=await n(`${o}/allowed-student-statuses`,{hideSuccessNotification:!0}),t=await this.getData({model:["academicPeriods"]});this.studentStatuses=e.data.statuses,this.academicPeriods=t.data.academicPeriods,console.log(e)}componentDidMount(){const e=$(".js-choices");e[0].choices.passedElement.element.addEventListener("search",async t=>{var l;if(e[0].choices.clearChoices(),t.detail.value.length>2){const{data:r}=await n(`${o}/single-search?name=${encodeURI(t.detail.value)}`,{hideSuccessNotification:!0,hideLoadingBar:!0});(l=r.students)!=null&&l.length&&(e[0].choices.clearChoices(),e[0].choices.setChoices(r.students.map(s=>({value:s.id,label:s.nim+" - "+s.name}))))}})}async submit(e){e.preventDefault(),(await b(`${o}?form_type=other`,e.target)).status==200}}c(g,"defaultProps",{roles:[],studentStatuses:[],table:null,...N(["getData"]),isDisabled:!1});export{g as default};
