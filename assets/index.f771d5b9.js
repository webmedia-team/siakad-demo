var m=Object.defineProperty;var c=(l,t,a)=>t in l?m(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;var n=(l,t,a)=>(c(l,typeof t!="symbol"?t+"":t,a),a);import{A as u,a as d,C as p,c as e,d as b}from"./index.d57021e8.js";import{i as h}from"./datatable.4b22066f.js";import{B as g}from"./button.d257158a.js";import{m as f}from"./map-actions.609b7ae0.js";import"./jquery.4c77f39d.js";const y=(l,t)=>({url:u+"/master/rooms",table:[{title:'<div class="form-check"><input class="form-check-input" type="checkbox" id="dt-checkbox" /></div>',data:null,id:"id",searchable:!1,orderable:!1,width:"5%",sClass:"text-center",mRender:(a,i,r,s)=>`
                    <div class="form-check">
                        <input class="form-check-input dt-checkbox" type="checkbox" value="${r.hashid}">
                    </div>`},{title:"No",data:"id",name:"id",searchable:!1,orderable:!1,width:"5%",mRender:(a,i,r,s)=>s.row+s.settings._iDisplayStart+1},{title:"Unit",data:"unit",name:"unit",mRender:(a,i,r,s)=>a==""||a==null?"-":a},{title:"Kode",data:"code",name:"code"},{title:"Nama Ruang Kuliah",data:"name",name:"name"},{title:"Lokasi",data:"location",name:"location"},{title:"Kapasitas",data:"capacity",name:"capacity"},{title:"Tipe",data:"type",name:"type",mRender:(a,i,r,s)=>a=="class"?"Kelas":a=="lab"?"Lab":"Lainnya"},{title:"Deskripsi",data:"description",name:"description",mRender:(a,i,r,s)=>a==""||a==null?"-":a},{title:"Status",data:"is_active",name:"is_active",mRender:(a,i,r,s)=>`<span class="badge badge-soft-${a==!0?"success":"danger"} text-uppercase">${a==!0?"Aktif":"Tidak Aktif"}</span>`},{title:"",data:"hashid",name:"id",searchable:!1,orderable:!1,sClass:"text-center nowrap",mRender:(a,i,r,s)=>{var o="";return d().includes("update-rooms")&&(o+=`<button type="button" class="btn btn-outline-primary btn-sm mx-1" data-toggle="edit" data-id="${a}"><i class="bx bx-edit-alt"></i></button>`),d().includes("delete-rooms")&&(o+=`<button type="button" class="btn btn-outline-danger btn-sm mx-1" data-toggle="delete" data-id="${a}"><i class="bx bx-trash"></i></button>`),o}}],callback:()=>{$('button[data-toggle="edit"]').unbind().on("click",function(a){a.preventDefault(),l($(this).data("id"))}),$('button[data-toggle="delete"]').unbind().on("click",function(a){a.preventDefault(),t($(this).data("id"))})}}),v="master/rooms";class N extends p{render(){var t,a,i,r;return e("div",{class:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{class:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Data Pelengkap"),e("li",{className:"breadcrumb-item"},"Perguruan Tinggi"),e("li",{className:"breadcrumb-item active"},(a=this.meta.title)!=null?a:"Untitled Page")))))),e("div",{className:"card dt-filter-card"},e("div",{className:"card-body"},e("div",{className:"row"},e("div",{className:"col-6"},e("label",{htmlFor:""},"Jurusan"),e("select",{name:"major",id:"major",className:"from-control js-choices dt-filter-input"},e("option",{value:""},"Pilih"),e("option",{value:"all"},"Semua Jurusan"),(i=this.majors)==null?void 0:i.map(s=>e("option",{value:s.id},s.name)))),e("div",{className:"col-6"},e("label",{htmlFor:""},"Program Studi"),e("select",{name:"study_program",id:"study-program",className:"from-control js-choices dt-filter-input"},e("option",{value:""},"Pilih"),e("option",{value:"all"},"Semua Program Studi"),(r=this.studyPrograms)==null?void 0:r.map(s=>{var o;return e("option",{value:s.id},(o=s.education_level)==null?void 0:o.code," - ",s.name)})))))),e("div",{className:"card"},e("div",{className:"card-header border-0"},e("div",{className:"text-sm-end text-center"},e("div",{className:"dt-actions d-inline"}),e(g,{data:{redirect:!0,target:"apps.master.rooms.create",filter:!0,permission:"create-rooms",refresh:!0,title:"Tambah Ruang Kuliah"}}))),e("div",{className:"card-body"},e("div",{className:"table-responsive table-card mb-1"},e("table",{className:"table zero-configuration",width:"100%",id:"dataTable"})))))}componentDidMount(){this.table=h("#dataTable",y(this.updateData,this.deleteData))}async componentWillMount(){const t=await this.getMajors();this.majors=t.data.majors;const a=await this.getStudyPrograms();this.studyPrograms=a.data.studyPrograms}async updateData(t){this.$router.pushName("apps.master.rooms.edit",{id:t})}async deleteData(t){let{isConfirmed:a}=await this.showConfirm();if(a){this.showLoading();const i=await b(`${v}/${t}`);this.hideLoading(),i.status==200&&this.table.ajax.reload()}}}n(N,"defaultProps",{...f(["getMajors","getStudyPrograms"]),table:null,majors:null,studyPrograms:null});export{N as default};
