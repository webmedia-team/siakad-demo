var z=Object.defineProperty;var H=(o,s,t)=>s in o?z(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var S=(o,s,t)=>(H(o,typeof s!="symbol"?s+"":s,t),t);import{C as O,c as e,r as Q,h as V,g as _,p as K,u as i}from"./index.d57021e8.js";import{m as X}from"./map-actions.609b7ae0.js";const r="lecture/courses",[Y,P]=i(""),[Z,x]=i(""),[ee,I]=i(""),[ae,M]=i(""),[w,D]=i(""),[C,j]=i(""),[F,U]=i(""),[$,E]=i(""),[se,T]=i(""),[te,A]=i(""),[ie,G]=i(""),[le,R]=i(""),[ce,B]=i(""),[oe,J]=i(""),[re,L]=i(""),[me,W]=i(""),[ne,q]=i(""),[ue,de]=i("");class pe extends O{render(){var s,t,l,c;return e("div",{className:"intro-y"},e("div",{className:"container"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{className:"mb-sm-0 title"},(t=(s=this.meta)==null?void 0:s.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("ol",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Perkuliahan"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.lecture.course"},"Mata Kuliah")),e("li",{className:"breadcrumb-item active title"},(c=(l=this.meta)==null?void 0:l.title)!=null?c:"Untitled Page")))))),e("div",{className:"card intro-y"},e("div",{className:"card-body"},e("form",{enctype:"multipart/form-data",onsubmit:this.submit},e("h5",{className:""},"Umum"),e("hr",null),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-sm-6 col-12"},e("label",{for:"code",className:"form-label"},"Kode MK ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"code",className:"form-control ",name:"code",placeholder:"Kode MK",onKeyUp:a=>{P(a.target.value)},value:Y,autocomplete:"off"})),e("div",{className:"col-sm-6 col-12"},e("label",{for:"name",className:"form-label"},"Nama MK ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"name",className:"form-control ",name:"name",placeholder:"Nama MK",onKeyUp:a=>{x(a.target.value)},value:Z,autocomplete:"off"})))),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-sm-6 col-12"},e("label",{for:"name_en",className:"form-label"},"Nama MK (Inggris) ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"code",className:"form-control ",name:"name_en",placeholder:"Nama MK (Inggris)",onKeyUp:a=>{I(a.target.value)},value:ee,autocomplete:"off"})),e("div",{className:"col-sm-6 col-12"},e("label",{for:"alias",className:"form-label"},"Alias ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"alias",className:"form-control ",name:"alias",placeholder:"Alias",onKeyUp:a=>{M(a.target.value)},value:ae,autocomplete:"off"})))),e("h5",{className:"mt-3"},"SKS"),e("hr",null),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-sm-3 col-12"},e("label",{for:"credit-meeting",className:"form-label"},"SKS Pertemuan ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",id:"credit-meeting",className:"form-control",name:"credit_meeting",placeholder:"SKS Pertemuan",onKeyUp:a=>this.setState(()=>D(a.target.value)),value:w,autocomplete:"off"})),e("div",{className:"col-sm-3 col-12"},e("label",{for:"credit-practicum",className:"form-label"},"SKS Praktikum ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",id:"credit-practicum",className:"form-control",name:"credit_practicum",placeholder:"SKS Praktikum",onKeyUp:a=>{this.setState(()=>j(a.target.value))},value:C,autocomplete:"off"})),e("div",{className:"col-sm-3 col-12"},e("label",{for:"credit-practice",className:"form-label"},"SKS Praktik ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",id:"credit-practice",className:"form-control",name:"credit_practice",placeholder:"SKS Praktik",onKeyUp:a=>{this.setState(()=>U(a.target.value))},value:F,autocomplete:"off"})),e("div",{className:"col-sm-3 col-12"},e("label",{for:"credit-simulation",className:"form-label"},"SKS Simulasi ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",id:"credit-simulation",className:"form-control",name:"credit_simulation",placeholder:"SKS Simulasi",onKeyUp:a=>{this.setState(()=>E(a.target.value))},value:$,autocomplete:"off"}))),e("div",{className:"row"},e("div",{className:"col-12"},e("p",{className:"font-weight-bold mt-3"},"Total SKS : ",(parseInt(w)||0)+(parseInt(C)||0)+(parseInt(F)||0)+(parseInt($)||0)," SKS")))),e("h5",{className:"mb-3"},"Lainnya"),e("hr",null),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-sm-6"},e("label",{htmlFor:"study-program",className:"form-label mt-3"},"Program Studi"),e("select",{className:"form-control js-choices",onChange:a=>J(a.target.value),name:"study_program_id",id:"study-program"},e("option",{value:""},"Pilih Program Studi"),this.studyPrograms.map(a=>e("option",{value:a.id,selected:a.id==oe},a.education_level.code," - ",a.name)))),e("div",{className:"col-sm-6"},e("label",{htmlFor:"course-type-id",className:"form-label mt-3"},"Jenis Mata Kuliah ",e("span",{className:"text-danger"},"*")),e("select",{className:"form-control js-choices",onChange:a=>L(a.target.value),name:"course_type_id",id:"course-type-id"},e("option",{value:""},"Pilih Jenis Mata Kuliah"),this.courseTypes.map(a=>e("option",{value:a.id,selected:a.id==re},a.name))))),e("div",{className:"row"},e("div",{className:"col-sm-6"},e("label",{htmlFor:"course-group0id",className:"form-label mt-3"},"Kelompok Mata Kuliah ",e("span",{className:"text-danger"},"*")),e("select",{className:"form-control js-choices",onChange:a=>W(a.target.value),name:"course_group_id",id:"course-group0id"},e("option",{value:""},"Pilih Kelompok Mata Kuliah"),this.courseGroups.map(a=>e("option",{value:a.id,selected:a.id==me},a.name)))),e("div",{className:"col-sm-6"},e("label",{htmlFor:"scientific-field-id",className:"form-label mt-3"},"Bidang Ilmu ",e("span",{className:"text-danger"},"*")),e("select",{className:"form-control js-choices",onChange:a=>q(a.target.value),name:"scientific_field_id",id:"scientific-field-id"},e("option",{value:""},"Pilih Bidang Ilmu"),this.scientificFields.map(a=>e("option",{value:a.hashid,selected:a.hashid==ne},a.name))))),e("div",{className:"row"},e("div",{className:"col-sm-6"},e("label",{htmlFor:"rps-meployee-id",className:"form-label mt-3"},"Dosen RPS"),e("select",{className:"form-control js-choices",onChange:a=>de(a.target.value),name:"rps_employee_id",id:"rps-meployee-id"},e("option",{value:""},"Dosen RPS"),this.rpsEmployees.map(a=>e("option",{value:a.id,selected:a.id==ue},a.name)))),e("div",{className:"col-sm-6 mt-5"},e("div",{className:"col"},e("div",{className:"form-check d-inline-block me-3"},e("input",{className:"form-check-input uuid",type:"checkbox",id:"is-mku",name:"is_mku",value:"true",onchange:a=>{T(a.target.value)},checked:se=="true"}),e("label",{for:"is-mku",className:"form-check-label"},"Merupakan MKU")),e("div",{className:"form-check d-inline-block d-inline-block me-3"},e("input",{className:"form-check-input uuid",type:"checkbox",id:"is-silabus",name:"is_silabus",value:"true",onchange:a=>{G(a.target.value)},checked:ie=="true"}),e("label",{for:"is-silabus",className:"form-check-label"},"Silabus")),e("div",{className:"form-check d-inline-block me-3"},e("input",{className:"form-check-input uuid",type:"checkbox",id:"is-bahan-ajar",name:"is_bahan_ajar",value:"true",onchange:a=>{R(a.target.value)},checked:le=="true"}),e("label",{for:"is-bahan-ajar",className:"form-check-label"},"Bahan Ajar")),e("div",{className:"form-check d-inline-block me-3"},e("input",{className:"form-check-input uuid",type:"checkbox",id:"is-diktat",name:"is_diktat",value:"true",onchange:a=>{B(a.target.value)},checked:ce=="true"}),e("label",{for:"is-diktat",className:"form-check-label"},"Diktat")),e("div",{className:"form-check d-inline-block me-3"},e("input",{className:"form-check-input uuid",type:"checkbox",id:"is-sap",name:"is_sap",value:"true",onchange:a=>{A(a.target.value)},checked:te=="true"}),e("label",{for:"is-sap",className:"form-check-label"},"SAP")))))),e("div",{className:"card-footer text-end"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.lecture.course"},"Kembali"),e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan")))))))}async componentWillMount(){Q(),await this.fetchData(),this.$router.params.id&&this.gData()}componentDidMount(){this.$router.params.id||V()}async fetchData(){var t,l,c;const s=await this.getData({model:["courseTypes","courseGroups","scientificFields","studyPrograms","getEmployees","getRPSEmployees"]});this.courseTypes=s.data.courseTypes,this.courseGroups=s.data.courseGroups,this.scientificFields=s.data.scientificFields,this.studyPrograms=s.data.studyPrograms,this.rpsEmployees=((c=(l=(t=s.data)==null?void 0:t.getRPSEmployees)==null?void 0:l.original)==null?void 0:c.employees)||[]}async gData(){const{data:s}=await _(`${r}/${this.$router.params.id}`,{hideSuccessNotification:!0});this.setState(()=>{var t,l,c,a,m,n,u,d,p,h,N,f,b,g,v,y,k;P((t=s.course)==null?void 0:t.code),x((l=s.course)==null?void 0:l.name),I((c=s.course)==null?void 0:c.name_en),M((a=s.course)==null?void 0:a.alias),D((m=s.course)==null?void 0:m.credit_meeting),j((n=s.course)==null?void 0:n.credit_practicum),U((u=s.course)==null?void 0:u.credit_practice),E((d=s.course)==null?void 0:d.credit_simulation),T((p=s.course)==null?void 0:p.is_mku),A((h=s.course)==null?void 0:h.is_sap),G((N=s.course)==null?void 0:N.is_silabus),R((f=s.course)==null?void 0:f.is_bahan_ajar),B((b=s.course)==null?void 0:b.is_diktat),J((g=s.course)==null?void 0:g.study_program_id),L((v=s.course)==null?void 0:v.course_type_id),W((y=s.course)==null?void 0:y.course_group_id),q((k=s.course)==null?void 0:k.scientific_field_hashid),this.isDisabled=!0})}async submit(s){s.preventDefault();let t;this.$router.params.id?t=await K(`${r}/${this.$router.params.id}`,s.target):t=await K(`${r}`,s.target),t.status==200&&this.$router.pushState("/apps/lecture/course")}async getRoles(){const{data:s}=await _(`${r}/get-roles`,{hideSuccessNotification:!0});this.setState(()=>{this.roles=s.data})}}S(pe,"defaultProps",{...X(["getStudyPrograms","getData"]),courseTypes:[],courseGroups:[],scientificFields:[],roles:[],employees:[],rpsEmployees:[],studyPrograms:[],isDisabled:!1});export{pe as default};
