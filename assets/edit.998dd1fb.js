var g=Object.defineProperty;var v=(l,t,a)=>t in l?g(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;var m=(l,t,a)=>(v(l,typeof t!="symbol"?t+"":t,a),a);import{C as f,c as e,g as b,p as w,u as h}from"./index.d57021e8.js";const x="student/profile",[y,p]=h(""),[N,u]=h("");class _ extends f{render(){var t,a,s,i,o,c,n,d;return e("div",null,e("div",{class:"profile-foreground position-relative mx-n4 mt-n4"},e("div",{class:"profile-wid-bg"},e("img",{src:"/src/assets/images/auth-one-bg.jpg",alt:"",class:"profile-wid-img"}))),e("div",{class:"pt-4 mb-4 mb-lg-3 pb-lg-4"},e("div",{class:"row g-4"},e("div",{class:"col-auto"},e("div",{class:"avatar-lg"},e("img",{src:this.$userData.picture,alt:"user-img",class:"img-thumbnail rounded-circle"}))),e("div",{class:"col"},e("div",{class:"p-2"},e("h3",{class:"text-white mb-1"},(t=this.profile)==null?void 0:t.name),e("p",{class:"text-white-75"},"Mahasiswa | ",((s=(a=this.profile.study_program)==null?void 0:a.education_level)==null?void 0:s.code)+" "+((i=this.profile.study_program)==null?void 0:i.name)),e("div",{class:"hstack text-white-50 gap-1"},e("div",null,e("i",{class:"ri-building-line me-1 text-white-75 fs-16 align-middle"}),(o=this.profile)==null?void 0:o.nim),e("div",{class:"me-2"},e("i",{class:"ri-map-pin-user-line me-1 text-white-75 fs-16 align-middle"}),((c=this.profile)==null?void 0:c.address)||"-")))),e("div",{class:"col-12 col-lg-auto order-last order-lg-0"},e("div",{class:"row text text-white-50 text-center"},e("div",{class:"col-lg-6 col-4"},e("div",{class:"p-2"},e("h4",{class:"text-white mb-1"},(n=this.profile)==null?void 0:n.semester),e("p",{class:"fs-14 mb-0"},"Semester"))),e("div",{class:"col-lg-6 col-4"},e("div",{class:"p-2"},e("h4",{class:"text-white mb-1"},(d=this.profile)==null?void 0:d.angkatan_formatted),e("p",{class:"fs-14 mb-0"},"Angkatan"))))))),e("div",{class:"row"},e("div",{class:"col-lg-12"},e("div",null,e("div",{class:"tab-content pt-4 text-muted"},e("div",{class:"tab-pane active",id:"formUpdate",role:"tabpanel"},e("div",{class:"card"},e("div",{className:"card-body"},e("form",{action:"",onSubmit:this.submit},e("h5",{class:"card-title mb-4"},"Edit Profil"),e("div",{className:"form-group mb-3"},e("label",{htmlFor:"name"},"No. Tlp / Hp"),e("input",{name:"no_tlp",type:"text",id:"no_tlp",className:"form-control",value:N,onChange:r=>u(r.target.value)})),e("div",{className:"form-group mb-3"},e("label",{htmlFor:"campus-email"},"Email"),e("input",{type:"text",name:"email",id:"campus-email",value:y,className:"form-control",onChange:r=>p(r.target.value)})),e("button",{type:"submit",className:"btn btn-primary mt-3"},"Simpan"))))),e("div",{class:"tab-pane fade",id:"specialNeeds",role:"tabpanel"},e("div",{class:"card"},e("div",{className:"card-body"}))))))))}async componentWillMount(){const t=await b("student/profile",{hideSuccessNotification:!0,hideLoadingBar:!0});console.log(t),this.profile=t.data.profile,this.profile.semester=t.data.semester,this.profile.progress=t.data.progress,this.achievement=t.data.achievement,u(t.data.profile.phone_number),p(t.data.profile.email)}dateFormat(t){var a=new Date(t),s=""+(a.getMonth()+1),i=""+a.getDate(),o=a.getFullYear();return s.length<2&&(s="0"+s),i.length<2&&(i="0"+i),[i,s,o].join("-")}async submit(t){t.preventDefault(),await w(x+"/update",t.target),this.$router.pushState(window.location.href)}}m(_,"defaultProps",{profile:{},achievement:{}});export{_ as default};
