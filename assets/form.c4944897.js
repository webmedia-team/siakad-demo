var y=Object.defineProperty;var x=(o,a,t)=>a in o?y(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t;var f=(o,a,t)=>(x(o,typeof a!="symbol"?a+"":a,t),t);import{C as U,c as e,g as b,p as v,u as l}from"./index.d57021e8.js";const m="users",[P,r]=l(""),[$,i]=l(""),[K,c]=l(""),[D,n]=l(""),[S,d]=l(""),[h,u]=l(""),[C,g]=l(""),[_,w]=l("");class R extends U{render(){var a,t,p,N;return e("div",{className:"intro-y"},e("div",{className:"container"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{className:"mb-sm-0 title"},(t=(a=this.meta)==null?void 0:a.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("ol",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Manajemen User"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.users"},"User")),e("li",{className:"breadcrumb-item active title"},(N=(p=this.meta)==null?void 0:p.title)!=null?N:"Untitled Page")))))),e("div",{className:"card intro-y"},e("div",{className:"card-body"},e("form",{enctype:"multipart/form-data",onsubmit:this.submit},e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"name",className:"form-label"},"Nama User ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"name",className:"form-control ",name:"name",placeholder:"Nama User",onKeyUp:s=>{r(s.target.value)},value:P,autocomplete:"off"})),e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"email",className:"form-label"},"Email ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"email",id:"email",className:"form-control ",name:"email",placeholder:"Email",onKeyUp:s=>i(s.target.value),value:$,autocomplete:"off"})))),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"username",className:"form-label"},"Username ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"username",className:"form-control ",name:"username",placeholder:"Username",onKeyUp:s=>c(s.target.value),value:K,autocomplete:"off"})),e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"phoneNumber",className:"form-label"},"No. Telp ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"text",id:"phoneNumber",className:"form-control ",name:"phone_number",placeholder:"No. Telp",onKeyUp:s=>n(s.target.value),value:D,autocomplete:"off"})))),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"role",className:"form-label"},"Role ",e("i",{className:"text-danger"},"*")," "),e("select",{name:"role",id:"role",className:"form-control js-choices",onChange:s=>d(s.target.value)},e("option",{value:""},"Pilih Role"),this.roles.map(s=>e("option",{value:s.name,selected:S==s.name},s.name)))),e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"isActive",className:"form-label"},"Status ",e("i",{className:"text-danger"},"*")," "),e("select",{name:"is_active",id:"isActive",className:"form-control js-choices",onChange:s=>u(s.target.value)},e("option",{value:"1",selected:h==1},"Aktif"),e("option",{value:"0",selected:h==0},"Tidak Aktif"))))),e("div",{className:"mb-3"},e("div",{className:"row"},e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"password",className:"form-label"},"Password ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"password",id:"password",className:"form-control ",name:"password",placeholder:"Password",onKeyUp:s=>g(s.target.value),value:C,disabled:this.isDisabled,autocomplete:"off"})),e("div",{className:"col-md-6 col-sm-6 col-12"},e("label",{for:"passwordConfirmation",className:"form-label"},"Konfirmasi Password ",e("i",{className:"text-danger"},"*")," "),e("input",{type:"password",id:"passwordConfirmation",className:"form-control ",name:"confirm_password",placeholder:"Konfirmasi Password",onKeyUp:s=>w(s.target.value),value:_,disabled:this.isDisabled,autocomplete:"off"})))),e("div",{className:"mb-3"},e("label",{for:"file",className:"form-label"},"Foto Profil"),e("br",null),e("input",{type:"file",name:"file",id:"file",className:"filepond"})),e("div",{className:"card-footer text-end"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.users"},"Kembali"),e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan")))))))}componentWillMount(){this.getRoles(),r(""),i(""),c(""),n(""),d(""),u("1"),g(""),w(""),this.$router.params.id&&this.getData()}async getData(){const{data:a}=await b(`${m}/${this.$router.params.id}/show`,{hideSuccessNotification:!0});this.setState(()=>{r(a.name),i(a.email),c(a.username),n(a.phone_number),d(a.roles[0].name),u(a.is_active),this.isDisabled=!0})}async submit(a){a.preventDefault();let t;this.$router.params.id?t=await v(`${m}/${this.$router.params.id}/update`,a.target):t=await v(`${m}/store`,a.target),t.status==200&&this.$router.pushState("/apps/users")}async getRoles(){const{data:a}=await b(`${m}/get-roles`,{hideSuccessNotification:!0});this.setState(()=>{this.roles=a.data})}}f(R,"defaultProps",{roles:[],isDisabled:!1});export{R as default};
