import{b as p}from"./index.d57021e8.js";window.checkedDataIds=[];const x=(e,u)=>{var l;var a=u,o=a.callback,h=(l=a.options)!=null?l:{};$.fn.DataTable.isDataTable(e);var b={processing:!0,serverSide:!0,ajax:{url:a.url,method:"GET",beforeSend:t=>{var n;t.setRequestHeader("Authorization","Bearer "+((n=p())==null?void 0:n.split(".")[0]))}},columns:a.table,responsive:!0,search:{return:!0},lengthMenu:[[10,25,50,100],[10+" baris",25+" baris",50+" baris",100+" baris"]],language:{sLengthMenu:"_MENU_",search:"_INPUT_",searchPlaceholder:"Pencarian..."},order:[0,"desc"],dom:'<"col-sm-4 col-12 filter"f><"row"<"col-sm-12"tr>><"row"<"col-sm-12 col-md-5"l><"col-sm-12 col-md-7"p>>',...h},c=$(e).DataTable(b);return c.on("draw.dt",function(){o(),i(),s()}),c.on("responsive-display",function(){o(),i(),s()}),$(e+" th").addClass("bg-light"),$(".dt-btn-refresh").unbind().on("click",function(t){t.preventDefault(),Pace.restart(),c.ajax.reload()}),$(".dt-btn-filter").unbind().on("click",function(t){t.preventDefault(),$(".dt-filter-card").is(":hidden")?$(".dt-filter-card").slideDown(500):$(".dt-filter-card").slideUp(500)}),$(".dt-filter-input").unbind().on("change",function(t){t.preventDefault();let n="";$(".dt-filter-input").each((k,r)=>{n+=`${$(r).attr("name")}=${$(r).val()}`,$(".dt-filter-input").length-1!=k&&(n+="&")}),Pace.restart(),c.ajax.url(`${a.url}?${n}`).load()}),c},s=()=>{for(const e of window.checkedDataIds)$(`.dt-checkbox[value=${e}]`).prop("checked",!0);$("#dt-checkbox").unbind().on("change",function(){$(".dt-checkbox").prop("checked",this.checked).trigger("change"),d()}),$(".dt-checkbox").unbind().on("change",function(){$(".dt-checkbox:checked").length==$(".dt-checkbox").length?$("#dt-checkbox").prop("checked",!0):$("#dt-checkbox").prop("checked",!1),this.checked?window.checkedDataIds.push($(this).val()):window.checkedDataIds.splice(window.checkedDataIds.indexOf($(this).val()),1),d()}),$(".dt-unselected-all").unbind().on("click",function(){$(".dt-checkbox").prop("checked",!1),$("#dt-checkbox").prop("checked",!1),d()})},d=()=>{$(".dt-checkbox:checked").length>0?($(".dt-unselected-all").removeClass("d-none"),$(".dt-bulk-delete").removeClass("d-none")):($(".dt-unselected-all").addClass("d-none"),$(".dt-bulk-delete").addClass("d-none"))},i=()=>{let e=`
        <button class="btn btn-dark dt-unselected-all d-none" type="button">Batal</button>
        <button class="btn btn-danger dt-bulk-delete d-none" type="button"><i class="bx bx-trash"></i> Hapus</button>
    `;$(".dt-unselected-all").remove(),$(".dt-bulk-delete").remove(),$(".dt-actions").append(e)};export{x as i};
