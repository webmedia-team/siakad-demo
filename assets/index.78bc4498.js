var l=Object.defineProperty;var o=(s,a,t)=>a in s?l(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var c=(s,a,t)=>(o(s,typeof a!="symbol"?a+"":a,t),t);import{C as r,c as e,B as m}from"./index.d57021e8.js";import{m as n}from"./map-actions.609b7ae0.js";class p extends r{async componentWillMount(){const a={model:["academicPeriods"]},{status:t,data:i}=await this.getData(a);t==200&&(this.academicPeriods=i.academicPeriods)}render(){var a,t;return e("div",{class:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{class:"mb-sm-0"},(a=this.meta.title)!=null?a:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Laporan"),e("li",{className:"breadcrumb-item"},"Tinggkat Akhir"),e("li",{className:"breadcrumb-item active"},(t=this.meta.title)!=null?t:"Untitled Page")))))),e("div",{className:"card col-5",style:{marginLeft:440}},e("form",{onSubmit:this.handleSubmit},e("div",{className:"card-body "},e("div",{className:"mb-3"},e("label",{htmlFor:""},"Periode Akademik",e("span",{className:"text-danger"})),e("select",{name:"academic_period_id",id:"academic_period_id",className:"from-control js-choices dt-filter-input"},e("option",{value:""},"Pilih"),this.academicPeriods.map(i=>e("option",{value:i.id},i.name))))),e("div",{className:"card-footer text-end"},e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},"Cetak")))))}handleSubmit(a){a.preventDefault();let t=$('select[name="academic_period_id"]').val();const i=`${m}/api/v1/report/total-theses-students/print?academic_period_id=${t}`,d=window.open(`${i}`,"_blank","resizable=yes,scrollbars=yes,status=yes");d&&(d.opener=null,d.location=`${i}`,d.addEventListener("beforeunload",function(){d.location=`${i}`}))}}c(p,"defaultProps",{...n(["getData"]),table:null,academicPeriod:[]});export{p as default};
