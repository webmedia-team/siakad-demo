var l=Object.defineProperty;var c=(s,t,a)=>t in s?l(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var d=(s,t,a)=>(c(s,typeof t!="symbol"?t+"":t,a),a);import{A as o,a as m,C as u,c as e,u as b}from"./index.d57021e8.js";import{i as v}from"./datatable.4b22066f.js";import{B as p}from"./button.d257158a.js";import{H as y}from"./header-component.014babac.js";import{m as g}from"./map-actions.609b7ae0.js";import"./jquery.4c77f39d.js";const _=s=>({url:o+"/lecturer/guidance/activities",table:[{title:"",data:null,name:"id",searchable:!1,orderable:!1,width:"2%",sClass:"text-center",mRender:(t,a,i,r)=>""},{title:"No",data:null,name:null,searchable:!1,orderable:!1,width:"5%",mRender:(t,a,i,r)=>r.row+r.settings._iDisplayStart+1},{title:"Program Studi",data:"student_activity.study_program.name",name:"student_activity.study_program.name",mRender:function(t,a,i){return i.student_activity.study_program.education_level.code+" - "+t}},{title:"Semester",data:"student_activity.academic_period.name",name:"student_activity.academic_period.name"},{title:"Jenis",data:"student_activity.student_activity_category.name",name:"student_activity.student_activity_category.name"},{title:"Peran",data:"role_type",name:"role_type",mRender:function(t,a,i){return t==0?"Pembimbing ke-"+i.number:"Penguji ke-"+i.number}},{title:"Judul",data:"student_activity.name",name:"student_activity.name"},{title:"Tanggal SK",data:"student_activity.decree_date",name:"student_activity.decree_date",mRender:function(t){return t==null?"-":t}},{title:"",data:"student_activity_id",name:"student_activity_id",searchable:!1,orderable:!1,sClass:"text-center nowrap",mRender:(t,a,i,r)=>{var n="";return m().includes("read-lecturer-activity")&&(n+=`<button type="button" class="btn btn-outline-warning btn-sm mx-1" data-toggle="detail" data-id="${t}"><i class="bx bx-menu"></i></button>`),n}}],callback:()=>{$('button[data-toggle="detail"]').unbind().on("click",function(t){t.preventDefault(),s($(this).data("id"))})},options:{order:[2,"asc"]}});b("");class h extends u{render(){var t,a;return e("div",{className:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},e("h4",{className:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Bimbingan"),e("li",{className:"breadcrumb-item active"},(a=this.meta.title)!=null?a:"Untitled Page")))))),e(y,null),e("div",{className:"card dt-filter-card"},e("div",{className:"card-body"},e("div",{className:"row"},e("div",{className:"col-6"},e("label",{htmlFor:""},"Periode Akademik"),e("select",{name:"academic_period_id",id:"",className:"from-control js-choices dt-filter-input"},e("option",{value:""},"Pilih"),e("option",{value:"all"},"Semua Periode Akademik"),this.academicPeriods.map(i=>e("option",{value:i.id},i.name)))),e("div",{className:"col-6"},e("label",{htmlFor:""},"Jenis Aktivitas"),e("select",{name:"student_activity_category_id",id:"",className:"from-control js-choices dt-filter-input"},e("option",{value:""},"Pilih"),e("option",{value:"all"},"Semua Jenis Aktivitas"),this.categories.map(i=>e("option",{value:i.id},i.name))))))),e("div",{className:"card"},e("div",{className:"card-header border-0"},e("div",{className:"text-sm-end text-center"},e("div",{className:"dt-actions d-inline"}),e(p,{data:{refresh:!0,filter:!0,create:!1}}))),e("div",{className:"card-body"},e("div",{className:"table-responsive table-card mb-1"},e("table",{className:"table zero-configuration",width:"100%",id:"dataTable"})))))}async componentWillMount(){const{data:t}=await this.getData({model:["academicPeriods","getStudentActivityCategories"]});this.academicPeriods=t.academicPeriods,this.categories=t.getStudentActivityCategories.original.studentActivityCategories}componentDidMount(){this.table=v("#dataTable",_(this.showDetail))}async showDetail(t){this.$router.pushName("apps.lecturer.guidance.activities.detail",{id:t})}}d(h,"defaultProps",{...g(["getData"]),academicPeriods:[],categories:[],table:null});export{h as default};
