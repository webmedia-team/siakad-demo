var y=Object.defineProperty;var _=(c,a,s)=>a in c?y(c,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[a]=s;var N=(c,a,s)=>(_(c,typeof a!="symbol"?a+"":a,s),s);import{C as P,c as e,g as x,p as b,u as t}from"./index.d57021e8.js";import{m as S}from"./map-actions.609b7ae0.js";const r="lecture/college-class/schedule",[k,m]=t(""),[K,i]=t(""),[C,f]=t(""),[w,D]=t(""),[I,o]=t(""),[T,u]=t(""),[$,n]=t(""),[M,d]=t(""),[U,p]=t(""),[j,h]=t(""),[A,g]=t("");class R extends P{render(){return e("div",{className:"intro-y"},e("div",{className:"container"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{className:"mb-sm-0"},this.meta.title),e("div",{className:"page-title-right"},e("ol",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item active"},"Perkuliahan"),e("li",{className:"breadcrumb-item active"},"Data Kelas"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.lecture.college-class.schedule"},"Kelas Kuliah")),e("li",{className:"breadcrumb-item active"},this.meta.title)))))),e("div",{className:"row"},e("div",{className:"card mb-3 col-sm-12"},e("form",{onsubmit:this.submit},e("div",{className:"card-body"},e("div",{className:"row"},e("div",{className:"col-sm-4"},e("div",{className:"mb-3"},e("label",null,"Periode Akademik ",e("span",{className:"text-danger"},"*")),e("select",{name:"academic_period_id",className:"form-control js-choices",onChange:a=>m(a.target.value)},e("option",{value:""},"Pilih"),this.academicPeriods.map(a=>e("option",{value:a.id,selected:k==a.id},a.name))))),e("div",{className:"col-sm-4"},e("div",{className:"mb-3"},e("label",null,"Program Studi ",e("span",{className:"text-danger"},"*")),e("select",{name:"study_program_id",className:"form-control js-choices",onChange:this.fetchCourses},e("option",{value:""},"Pilih"),this.studyPrograms.map(a=>e("option",{value:a.id,selected:K==a.id},a.education_level.code," - ",a.name))))),e("div",{className:"col-sm-4"},e("div",{className:"mb-3"},e("label",null,"Sistem Perkuliahan ",e("span",{className:"text-danger"},"*")),e("select",{name:"lecture_system_id",className:"form-control js-choices",onChange:a=>o(a.target.value)},e("option",{value:""},"Pilih"),this.lectureSystems.map(a=>e("option",{value:a.hashid,selected:I==a.hashid},a.name)))))),e("div",{className:"row"},e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Mata Kuliah ",e("span",{className:"text-danger"},"*")),e("select",{name:"course_id",className:"form-control js-choices",onChange:a=>i(a.target.value)},e("option",{value:""},"Pilih"),this.courses.map(a=>e("option",{value:a.course.id+"|"+a.curriculum_id,selected:C==a.course.id&&w==a.curriculum_id},a.course.code," - ",a.course.name," (",a.credit_total," SKS - Smt. ",a.semester,") ",a.curriculum.name))))),e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Nama Kelas ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"name",className:"form-control",placeholder:"Nama Kelas",autocomplete:"off",onKeyUp:a=>u(a.target.value),value:T,maxLength:"5"})))),e("div",{className:"row"},e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Tanggal Mulai ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"date_start",className:"form-control flatpickr-date",placeholder:"Tanggal Mulai",autocomplete:"off",onKeyUp:a=>n(a.target.value),value:$}))),e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Tanggal Selesai ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"date_end",className:"form-control flatpickr-date",placeholder:"Tanggal Selesai",autocomplete:"off",onKeyUp:a=>d(a.target.value),value:M})))),e("div",{className:"row"},e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Kapasitas ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",name:"capacity",className:"form-control",placeholder:"Kapasitas",autocomplete:"off",onKeyUp:a=>p(a.target.value),value:U}))),e("div",{className:"col-sm-6"},e("div",{className:"mb-3"},e("label",null,"Jumlah Pertemuan ",e("span",{className:"text-danger"},"*")),e("input",{type:"number",name:"number_of_meeting",className:"form-control",placeholder:"Jumlah Pertemuan",autocomplete:"off",onKeyUp:a=>h(a.target.value),value:j})))),e("div",{className:"mb-3"},e("label",null,"Bahasan"),e("textarea",{name:"case_discussion",rows:"3",className:"form-control",onKeyUp:a=>g(a.target.value),value:A}))),e("div",{className:"card-footer text-end"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.lecture.college-class.schedule"},"Kembali"),e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan"))))),e("div",{className:"row"},e("div",{class:"alert alert-info",role:"alert"},e("h6",{className:"text-bg-dark"},e("u",null,"Keterangan")," "),e("p",null,"- Perkuliahan Reguler",e("ul",null,e("li",null,"Tanggal mulai efektif = Tanggal mulai perkuliahan dalam satu semester"),e("li",null,"Tanggal akhir efektif = Tanggal akhir perkuliahan dalam satu semester")),"- Fasilitas hitung sks disediakan untuk membantu perhitungan sks dosen secara otomatis ",e("br",null),"- Rumus Perhitungan sks dosen = (Rencana Pertemuan : Jumlah Seluruh Rencana Pertemuan Dosen) x sks Mata Kuliah.")))))}componentWillMount(){m(""),i(""),f(""),o(""),u(""),n(""),d(""),p(""),h(""),g(""),this.fetchAllData(),this.$router.params.id&&this.fetchData()}async fetchAllData(){const a={model:["academicPeriods","studyPrograms","lectureSystem","courses"],where:[{is_active:!0},{},{},{}]},{status:s,data:l}=await this.getData(a);s==200&&this.setState(()=>{this.academicPeriods=l.academicPeriods,this.studyPrograms=l.studyPrograms,this.lectureSystems=l.lectureSystem})}async fetchCourses(a,s=!1){s||a.preventDefault(),i(s?a:a.target.value);const{status:l,data:v}=await this.getData({model:["courseCurriculums"],where:[{study_program_id:s?a:a.target.value}]});l==200&&this.setState(()=>{this.courses=v.courseCurriculums})}async fetchData(){let{status:a,data:s}=await x(`${r}/${this.$router.params.id}`,{hideSuccessNotification:!0});a==200&&(s=s.collegeClass,this.setState(()=>{m(s.academic_period_id),i(s.study_program_id),f(s.course_id),D(s.curriculum_id),o(s.lecture_system.hashid),u(s.name),n(s.date_start),d(s.date_end),p(s.capacity),h(s.number_of_meeting),g(s.case_discussion),this.fetchCourses(s.study_program_id,!0)}))}async submit(a){a.preventDefault();let s;if(this.$router.params.id?s=await b(`${r}/${this.$router.params.id}`,a.target):s=await b(r,a.target),s.status==200){const{collegeClass:l}=s.data;this.$router.pushName("apps.lecture.college-class.schedule.class-detail",{id:l.id})}}}N(R,"defaultProps",{...S(["getData"]),studyPrograms:[],academicPeriods:[],courses:[],lectureSystems:[]});export{R as default};
