var b=Object.defineProperty;var y=(r,t,a)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var u=(r,t,a)=>(y(r,typeof t!="symbol"?t+"":t,a),a);import{C as N,c as e,g as x}from"./index.d57021e8.js";import{m as g}from"./map-actions.609b7ae0.js";const v="student/academic/presences";class k extends N{render(){var t,a;return console.log(this.collegeClass),e("div",{className:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},e("h4",{className:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Akademik"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.student.academic.presences"},"Presensi Mahasiswa")),e("li",{className:"breadcrumb-item active"},(a=this.meta.title)!=null?a:"Untitled Page")))))),e("div",{className:"loader"},e("div",{className:"card shadow-sm mb-3"},e("div",{className:"card-body",id:"render-header-component",style:{minHeight:"150px"}},e("div",{className:"text-center mb-4"},e("lord-icon",{src:"https://cdn.lordicon.com/bbnkwdur.json",trigger:"loop",colors:"primary:#405189,secondary:#0ab39c",style:"width:75px;height:75px"}),e("h5",{className:"text-muted mb-0"},"Opps! tidak ada yang dapat ditampilkan.")))),e("div",{className:"card"},e("div",{className:"card-body"},e("div",{id:"renderData",style:{minHeight:"150px"},className:"mb-3"},e("div",{className:"text-center mb-4"},e("lord-icon",{src:"https://cdn.lordicon.com/bbnkwdur.json",trigger:"loop",colors:"primary:#405189,secondary:#0ab39c",style:"width:75px;height:75px"}),e("h5",{className:"text-muted mb-0"},"Opps! tidak ada yang dapat ditampilkan."))),e("i",{className:"text-black-50"},"*Catatan :",e("br",null),e("ul",null,e("li",null,"- : Kelas belum dimulai / belum selesai"),e("li",null,"H : Hadir"),e("li",null,"I : Izin"),e("li",null,"S : Sakit"),e("li",null,"A : Alpa")))))))}componentDidMount(){this.fetchData()}async fetchData(){$(".loader").waitMe({effect:"win8",bg:"rgba(255, 255, 255, .7)",color:"#6691e7",text:"Mengambil data..."});const{status:t,data:a}=await x(`${v}/${this.$router.params.id}`,{hideSuccessNotification:!0});t==200&&(console.log(a),this.collegeClass=a.college_class,a.collections.length>0?($("#render-header-component").removeAttr("style"),document.querySelector("#render-header-component").innerHTML="",document.querySelector("#render-header-component").appendChild(this.renderHeaderComponent(a.college_class)),$("#renderData").removeAttr("style"),document.querySelector("#renderData").innerHTML="",document.querySelector("#renderData").appendChild(this.renderHTML(a.headers,a.collections))):($("#render-header-component").attr("style","min-height: 200px"),$("#render-header-component").append(`
                <div className="text-center mb-4">
                <lord-icon src="https://cdn.lordicon.com/bbnkwdur.json" 
                trigger="loop" 
                colors="primary:#405189,secondary:#0ab39c" 
                style="width:75px;height:75px"></lord-icon>
                <h5 className="text-muted mb-0">Opps! tidak ada yang dapat ditampilkan.</h5>
                </div>
                `),$("#renderData").attr("style","min-height: 150px"),$("#renderData").append(`
                    <div className="text-center mb-4">
                        <lord-icon src="https://cdn.lordicon.com/bbnkwdur.json" 
                        trigger="loop" 
                        colors="primary:#405189,secondary:#0ab39c" 
                        style="width:75px;height:75px"></lord-icon>
                        <h5 className="text-muted mb-0">Opps! tidak ada yang dapat ditampilkan.</h5>
                    </div>
                `))),$(".loader").waitMe("hide")}renderHTML(t,a){var d;return e("div",{className:"table-card table-responsive"},e("table",{className:"table zero-configuration table-bordered"},e("thead",{className:"bg-light"},e("tr",{key:""},e("th",{rowspan:"2",valign:"middle",width:"2%",className:"text-center"},"No."),e("th",{rowspan:"2",valign:"middle"},"Nama Mahasiswa"),e("th",{colspan:"16",className:"text-center"},"Perkuliahan Ke")),e("tr",{key:""},t.map(n=>e("th",{width:"60",className:"text-center"},n)))),e("tbody",null,e("tr",{key:""},e("td",null,"1"),e("td",{style:"white-space: nowrap"},(d=a[0])==null?void 0:d.name),t.map(n=>e("td",{width:"60",className:"text-center"},e("td",null,a[0]["meeting_of_"+n]==0?"-":a[0]["meeting_of_"+n]=="H"?"H":a[0]["meeting_of_"+n]=="I"?"I":a[0]["meeting_of_"+n]=="S"?"S":a[0]["meeting_of_"+n]=="A"?"A":"")))))))}renderHeaderComponent(t){var a,d,n,l,m,s,c,o,p,h;return e("div",{className:"row"},e("div",{className:"col-md-6"},e("table",{cellPadding:"10"},e("tr",null,e("th",null,"Period Akademik"),e("td",null,(d=(a=t==null?void 0:t.academic_period)==null?void 0:a.name)!=null?d:"-")),e("tr",null,e("th",null,"Nama Matakuliah"),e("td",null,(l=(n=t==null?void 0:t.course)==null?void 0:n.name)!=null?l:"-")),e("tr",null,e("th",null,"Nama Kelas"),e("td",null,(m=t==null?void 0:t.name)!=null?m:"-")),e("tr",null,e("th",null,"Dosen Pengajar"),e("td",null,((s=t==null?void 0:t.teaching_lecture)==null?void 0:s.length)>0?(c=t==null?void 0:t.teaching_lecture)==null?void 0:c.map(i=>e("span",null,i.employee.front_title==null?"":i.employee.front_title," ",i.employee.name," ",i.employee.back_title==null?"":", "+i.employee.back_title," |")):"-")))),e("div",{className:"col-md-6"},e("table",{cellPadding:"10"},e("tr",null,e("th",null,"Kehadiran"),e("td",null,(o=t.presence_count)!=null?o:0)),e("tr",null,e("th",null,"Ketidakhadiran"),e("td",null,(p=t.not_presence_count)!=null?p:0)),e("tr",null,e("th",null,"Presentase (H)"),e("td",null,(h=t.attendance_presentage)!=null?h:"0%")))))}}u(k,"defaultProps",{...g(["getData"])});export{k as default};
