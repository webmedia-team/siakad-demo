var u=Object.defineProperty;var o=(n,a,e)=>a in n?u(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e;var i=(n,a,e)=>(o(n,typeof a!="symbol"?a+"":a,e),e);import{C as m,c as t,g as c,B as h}from"./index.d57021e8.js";import{H as p}from"./header-component.e9afed59.js";import"./pdfmake.eff2433f.js";class b extends m{constructor(){super(...arguments);i(this,"renderBody",()=>{let e=[],l=0;return this.courseTranscripts.courseTranscripts.length>0?this.courseTranscripts.courseTranscripts.map((s,d)=>{l+=1,e.push(t("tr",null,t("td",null,l),t("td",null,s.course_code),t("td",null,s.course_name),t("td",null,s.credit),t("td",null,s.grade),t("td",null,s.index),t("td",null,Math.round(s.index*s.credit))))}):e.push(t("tr",null,t("td",{colSpan:7},t("div",{class:"text-center"},t("lord-icon",{src:"https://cdn.lordicon.com/bbnkwdur.json",trigger:"loop",colors:"primary:#405189,secondary:#0ab39c",style:"width:75px;height:75px"}),t("h5",{class:"mt-2"},"Opps! Belum Ada Data"),t("p",{class:"text-muted"},"Data kamu masih kosong."))))),e})}render(){var e,l;return t("div",{className:"intro-y"},t("div",{className:"row"},t("div",{className:"col-12"},t("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},t("h4",{className:"mb-sm-0"},(e=this.meta.title)!=null?e:"Untitled Page"),t("div",{className:"page-title-right"},t("div",{className:"breadcrumb"},t("li",{className:"breadcrumb-item"},t("router-link",{link:"apps.dashboard"},"Dashboard")),t("li",{className:"breadcrumb-item"},"Akademik"),t("li",{className:"breadcrumb-item active"},(l=this.meta.title)!=null?l:"Untitled Page")))))),t(p,null),t("div",{className:"card"},t("div",{className:"card-header border-0"},t("div",{className:"text-sm-end text-center"},t("button",{className:"btn btn-primary ",type:"button",onClick:this.printPdf},t("i",{className:"bx bx-file"})," Cetak Transkrip"))),t("div",{className:"card-body"},t("div",{className:"table-responsive table-card mb-1"},t("table",{className:"table align-middle table-nowarp mb-0",width:"100%",id:""},t("thead",{className:"table-light"},t("tr",null,t("th",null),t("th",null),t("th",null),t("th",null,"Bobot MK"),t("th",{className:"text-center"},"Nilai"),t("th",null),t("th",null)),t("tr",null,t("th",null,"No"),t("th",null,"Kode MK"),t("th",null,"Nama MK"),t("th",null,"SKS"),t("th",null,"Huruf"),t("th",null,"Indeks"),t("th",null,"SKS*Index"))),t("tbody",null,this.renderBody(),this.renderFooter()))))))}async componentWillMount(){const{status:e,data:l}=await c("student/study-result/transcript",{hideSuccessNotification:!0});e==200&&(this.courseTranscripts=l.data)}renderFooter(){let e=[],l=this.courseTranscripts.total_sks_index/this.courseTranscripts.total_credit;return this.courseTranscripts.courseTranscripts.length>0?e.push(t("tr",{className:"table-light"},t("td",null),t("td",{className:"text-center"},"Jumlah"),t("td",null),t("td",null,this.courseTranscripts.total_credit),t("td",null),t("td",null),t("td",null,this.courseTranscripts.total_sks_index)),t("tr",{className:"table-light"},t("td",null),t("td",{className:"text-center"},"IPK ( Indeks Prestasi Kumulatif)"),t("td",null),t("td",null),t("td",null,l.toFixed(2)),t("td",null),t("td",null))):e.push(t("tr",{className:"table-light"},t("td",null),t("td",{className:"text-center"},"Jumlah"),t("td",null),t("td",null,"0"),t("td",null),t("td",null),t("td",null,"0")),t("tr",{className:"table-light"},t("td",null),t("td",{className:"text-center"},"IPK ( Indeks Prestasi Kumulatif)"),t("td",null),t("td",null),t("td",null,"0"),t("td",null),t("td",null))),e}async printPdf(){let{data:e,status:l}=await c("student/general/student-info",{hideSuccessNotification:!0}),s=e.data.id;$('select[name="academic_period_id"]').val(),$('select[name="academic_period_id"]').text();const d=`${h}/api/v1/student/print/study-result/transcript?student_id=${s}`,r=window.open(`${d}`,"_blank","resizable=yes,scrollbars=yes,status=yes");r&&(r.opener=null,r.location=`${d}`,r.addEventListener("beforeunload",function(){r.location=`${d}`}))}}i(b,"defaultProps",{academicPeriods:[],table:null,scores:[]});export{b as default};
