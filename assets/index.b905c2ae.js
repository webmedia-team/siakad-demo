var n=Object.defineProperty;var o=(s,a,t)=>a in s?n(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var l=(s,a,t)=>(o(s,typeof a!="symbol"?a+"":a,t),t);import{C as i,g as c,c as e,B as r,i as d,p as m}from"./index.d57021e8.js";import{H as u}from"./header-component.8d40ee12.js";class g extends i{async componentWillMount(){const{status:a,data:t}=await c(`lecture/college-class/${this.$router.params.id}/college-contracts`,{hideSuccessNotification:!0});a==200&&(this.data=t.collegeContract,this.collegeClass=t.collegeClass)}render(){var a;return e("div",{className:"intro-y"},e(u,{id:this.$router.params.id}),e("div",{className:"card shadow-sm"},e("div",{className:"card-body"},e("form",{onsubmit:this.submit},e("div",{className:"mb-3"},e("label",null,"File ",e("span",{className:"text-danger"},"*")),e("input",{type:"file",name:"file",className:"filepond"}),this.data!=null?e("i",{className:"text-muted"},"*Download file kontrak kuliah ",e("a",{href:`${r}/storage/documents/college-contracts/${this.data.attachment}`,target:"_blank"},"Disini ",e("i",{className:"ri-external-link-line"}))):""),e("div",{className:"mb-3"},e("label",null,"Keterangan ",e("span",{className:"text-danger"},"*")),e("textarea",{rows:"3",className:"form-control",id:"ckeditor",name:"content",placeholder:"Keterangan...",value:(a=this.data)==null?void 0:a.content})),e("hr",null),d("update-college-contracts")&&this.collegeClass.feeder_id==null?e("div",{className:"text-end"},e("button",{className:"btn btn-primary"},e("i",{className:"bx bx-save"})," Simpan")):""))))}componentDidMount(){ClassicEditor.create(document.getElementById("ckeditor"),{toolbar:{items:["heading","|","bold","italic","|","bulletedList","numberedList","|","insertTable","|","undo","redo"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}).then(a=>{a.model.document.on("change:data",(t,b)=>{$('*[name="content"]').val(a.getData())})})}async submit(a){a.preventDefault(),this.showWaiting(),await m(`lecture/college-class/${this.$router.params.id}/college-contracts`,a.target),this.hideWaiting()}}l(g,"defaultProps",{data:[],collegeClass:[]});export{g as default};
