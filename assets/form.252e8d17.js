var w=Object.defineProperty;var K=(m,s,t)=>s in m?w(m,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):m[s]=t;var c=(m,s,t)=>(K(m,typeof s!="symbol"?s+"":s,t),t);import{C,c as e,g as E,p as n,u as l}from"./index.d57021e8.js";import{m as U}from"./map-actions.609b7ae0.js";const o="master/majors",[A,d]=l(""),[D,p]=l(""),[$,u]=l(""),[P,b]=l(""),[S,N]=l(""),[T,f]=l(""),[k,v]=l(""),[F,h]=l(""),[W,g]=l(""),[J,y]=l(""),[I,x]=l(""),[_,j]=l("1"),[M,q]=l("");class z extends C{render(){var s,t,i,r;return e("div",{className:"intro-y"},e("div",{className:"container"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{className:"mb-sm-0 title"},(t=(s=this.meta)==null?void 0:s.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("ol",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Data Pelengkap"),e("li",{className:"breadcrumb-item"},"Perguruan Tinggi"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.master.majors"},"Jurusan")),e("li",{className:"breadcrumb-item active title"},(r=(i=this.meta)==null?void 0:i.title)!=null?r:"Untitled Page")))))),e("div",{className:"col-md-12 col-sm-12 col-12"},e("div",{className:"card shadow"},e("div",{className:"card-body"},e("form",{onSubmit:this.submit},e("div",{className:"mb-3"},e("label",{for:"name"},"Nama ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"name",className:"form-control",id:"name",placeholder:"Nama",onKeyUp:a=>d(a.target.value),value:A,autoComplete:"off"})),e("div",{className:"mb-3"},e("label",{for:"name_en"},"Nama English"),e("input",{type:"text",name:"name_en",className:"form-control",id:"name_en",placeholder:"Nama English",onKeyUp:a=>p(a.target.value),value:D,autoComplete:"off"})),e("div",{className:"mb-3"},e("label",{for:"alias"},"Alias ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"alias",className:"form-control",id:"alias",placeholder:"Alias",onKeyUp:a=>u(a.target.value),value:$,autoComplete:"off"})),e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"mb-3"},e("label",{htmlFor:"employee-id"},"Ketua Jurusan"),e("select",{name:"employee_id",id:"employee-id",className:"form-control js-choices"},e("option",{value:""},"Pilih"),this.employees.map(a=>e("option",{value:a.id,selected:M==a.id},a.name)))))),e("div",{className:"row"},e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"phone_number"},"No. Telp"),e("input",{type:"text",name:"phone_number",className:"form-control",id:"phone_number",placeholder:"No. Telp",onKeyUp:a=>b(a.target.value),value:P,autoComplete:"off"}))),e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"faximile"},"No. Fax"),e("input",{type:"text",name:"faximile",className:"form-control",id:"faximile",placeholder:"No. Fax",onKeyUp:a=>N(a.target.value),value:S,autoComplete:"off"})))),e("div",{className:"row"},e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"email"},"Email"),e("input",{type:"email",name:"email",className:"form-control",id:"email",placeholder:"Email",onKeyUp:a=>f(a.target.value),value:T,autoComplete:"off"}))),e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"website"},"Alamat Website"),e("input",{type:"text",name:"website",className:"form-control",id:"website",placeholder:"No. Fax",onKeyUp:a=>v(a.target.value),value:k,autoComplete:"off"})))),e("div",{className:"mb-3"},e("label",{for:"address"},"Alamat"),e("textarea",{name:"address",id:"address",rows:"3",className:"form-control",onKeyUp:a=>h(a.target.value),value:F})),e("div",{className:"mb-3"},e("label",{for:"establishment_date"},"Tanggal Pendirian ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"establishment_date",className:"form-control flatpickr-date",id:"establishment_date",placeholder:"Tanggal Pendirian",onKeyUp:a=>g(a.target.value),value:W,autoComplete:"off"})),e("div",{className:"row"},e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"decree_date"},"No. SK ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"decree_number",className:"form-control",id:"decree_number",placeholder:"No. SK",onKeyUp:a=>y(a.target.value),value:J,autoComplete:"off"}))),e("div",{className:"col-sm-6 col-12"},e("div",{className:"mb-3"},e("label",{for:"decree_date"},"Tanggal SK ",e("span",{className:"text-danger"},"*")),e("input",{type:"text",name:"decree_date",className:"form-control flatpickr-date",id:"decree_date",placeholder:"Tanggal SK",onKeyUp:a=>x(a.target.value),value:I,autoComplete:"off"})))),e("div",{className:"mb-3"},e("label",{for:"is_active"},"Status"),e("select",{name:"is_active",id:"is_active",onChange:a=>j(a.target.value),className:"js-choices form-control"},e("option",{value:"1",selected:_==1},"Aktif"),e("option",{value:"0",selected:_==0},"Tidak Aktif"))),e("div",{className:"card-footer text-end"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.master.majors"},"Kembali"),e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan"))))))))}async componentWillMount(){const s=await this.getEmployees();this.employees=s.data.employees,this.$router.params.id&&this.getData()}async getData(){const{status:s,data:t}=await E(`${o}/${this.$router.params.id}`,{hideSuccessNotification:!0});s==200&&this.setState(()=>{d(t.major.name),p(t.major.name_en),u(t.major.alias),b(t.major.phone_number),N(t.major.faximile),f(t.major.email),v(t.major.website),h(t.major.address),g(t.major.establishment_date),x(t.major.decree_date),y(t.major.decree_number),j(t.major.is_active),q(t.major.employee_id)})}async submit(s){s.preventDefault();let t;this.$router.params.id?t=await n(`${o}/${this.$router.params.id}`,s.target):t=await n(`${o}`,s.target),t.status==200&&this.$router.pushName("apps.master.majors")}}c(z,"defaultProps",{...U(["getEmployees"]),employees:[]});export{z as default};
