var l=Object.defineProperty;var c=(i,e,t)=>e in i?l(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var d=(i,e,t)=>(c(i,typeof e!="symbol"?e+"":e,t),t);import{C as o,c as a,B as n}from"./index.d57021e8.js";import{m as u}from"./map-actions.609b7ae0.js";class p extends o{async componentWillMount(){const e={model:["academicYears","studyPrograms"]},{status:t,data:s}=await this.getData(e);t==200&&(this.AcademicYear=s.academicYears,this.studyPrograms=s.studyPrograms)}render(){var e,t;return a("div",{class:"intro-y"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},a("h4",{class:"mb-sm-0"},(e=this.meta.title)!=null?e:"Untitled Page"),a("div",{className:"page-title-right"},a("div",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-link",{link:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Laporan"),a("li",{className:"breadcrumb-item"},"Tinggkat Akhir"),a("li",{className:"breadcrumb-item active"},(t=this.meta.title)!=null?t:"Untitled Page")))))),a("div",{className:"card col-5",style:{marginLeft:440}},a("form",{onSubmit:this.handleSubmit},a("div",{className:"card-body "},a("div",{className:"mb-3"},a("label",{htmlFor:""},"Program Studi",a("span",{className:"text-danger"})),a("select",{name:"study_program_id",id:"study_program_id",className:"from-control js-choices dt-filter-input"},a("option",{value:""},"Pilih"),this.studyPrograms.map(s=>a("option",{value:s.id},s.education_level.code," - ",s.name)))),a("div",{className:"mb-3"},a("label",{htmlFor:""},"Angkatan ",a("span",{className:"text-danger"})),a("select",{name:"academic_year_id",id:"academic_year_id",className:"from-control js-choices dt-filter-input"},a("option",{value:""},"Pilih"),this.AcademicYear.map(s=>a("option",{value:s.id},s.name))))),a("div",{className:"card-footer text-end"},a("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},"Cetak")))))}handleSubmit(e){e.preventDefault();let t=$('select[name="study_program_id"]').val(),s=$('select[name="academic_year_id"]').val();const m=`${n}/api/v1/report/theses/print?study_program_id=${t}&academic_year_id=${s}`,r=window.open(`${m}`,"_blank","resizable=yes,scrollbars=yes,status=yes");r&&(r.opener=null,r.location=`${m}`,r.addEventListener("beforeunload",function(){r.location=`${m}`}))}}d(p,"defaultProps",{...u(["getAcademicYears","getStudyPrograms","getData"]),table:null,AcademicYear:[],studyPrograms:[]});export{p as default};
