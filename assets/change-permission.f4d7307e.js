var n=Object.defineProperty;var d=(t,s,a)=>s in t?n(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var r=(t,s,a)=>(d(t,typeof s!="symbol"?s+"":s,a),a);import{C as o,c as e,g as u,p}from"./index.d57021e8.js";const l="roles";class h extends o{render(){var s,a;return e("div",{className:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{className:"mb-sm-0"},(s=this.meta.title)!=null?s:"Untitled Page"),e("div",{className:"page-title-right"},e("ol",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Manajemen User"),e("li",{className:"breadcrumb-item"},e("router-name",{name:"apps.roles"},"Roles")),e("li",{className:"breadcrumb-item active"},(a=this.meta.title)!=null?a:"Untitled Page")))))),e("div",{className:"card"},e("form",{onsubmit:this.submit},e("div",{className:"card-content"},e("div",{className:"card-body"},e("div",{className:"container-fluid"},e("div",{className:"row gy-4"},e("div",{className:"col-md-12 mb-5 mt-5"},e("div",{className:"checkbox d-flex justify-content-center"},e("div",{className:"form-check"},e("input",{className:"form-check-input",type:"checkbox",id:"uid",onchange:this.allChecked}),e("label",{for:"uid",className:"form-check-label"},"Semua Hak Akses")))),e("div",{className:"row col-md-12"},this.remappedPermissions())))),e("div",{className:"card-footer text-end"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.roles"},"Kembali"),e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan"))))))}async componentWillMount(){const{data:s}=await u(`${l}/${this.$router.params.id}/get-permissions`,{hideSuccessNotification:!0});this.permissions=s.permissions}componentDidMount(){this.singleChecked()}remappedPermissions(){let s=[];for(const a in this.permissions)s.push(this.permissions[a]);return s.length>0?s.map((a,c)=>e("div",{className:"col-md-3 col-sm-6",style:"margin-bottom: 40px"},a.map((i,m)=>e("div",{className:"form-check"},e("input",{className:"form-check-input uuid",type:"checkbox",id:`uuid-${c}-${m}`,name:"permission[]",value:i.name,checked:i.is_checked,onchange:this.singleChecked}),e("label",{for:`uuid-${c}-${m}`,className:"form-check-label"},i.display_name))))):e("div",{className:"mx-auto my-4 text-center"},e("img",{src:"/assets/images/no-data.png",style:"min-width: 100px;width: 300px;",alt:""}),e("h5",{className:"text-muted text-center"},"Tidak ada hak akses untuk role ini."))}async submit(s){s.preventDefault(),(await p(`${l}/${this.$router.params.id}/change-permissions`,s.target)).status==200&&this.$router.pushName("apps.roles")}singleChecked(){$(".uuid:checked").length==$(".uuid").length&&$(".uuid").length>0?$("#uid").prop("checked",!0):$("#uid").prop("checked",!1)}allChecked(s){$("#uid:checked").length>0?$(".uuid").prop("checked",!0):$(".uuid").prop("checked",!1)}}r(h,"defaultProps",{permissions:[]});export{h as default};
