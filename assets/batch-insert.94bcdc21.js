var c=Object.defineProperty;var d=(s,t,a)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var i=(s,t,a)=>(d(s,typeof t!="symbol"?t+"":t,a),a);import{A as n,C as m,c as e,p as u,t as p}from"./index.d57021e8.js";import{m as h}from"./map-actions.609b7ae0.js";import{i as b}from"./datatable.4b22066f.js";const g=s=>(console.log(s),{url:n+`/lecture/college-class/${s}/class-participants/students-list`,table:[{title:'<div class="form-check"><input class="form-check-input" type="checkbox" id="dt-checkbox" /></div>',data:null,id:"id",searchable:!1,orderable:!1,width:"5%",sClass:"text-center",mRender(t,a,r,l){return`
                    <div class="form-check">
                        <input class="form-check-input dt-checkbox" type="checkbox" value="${r.id}">
                    </div>`}},{title:"No",data:"id",name:"id",searchable:!1,orderable:!1,width:"5%",mRender(t,a,r,l){return l.row+l.settings._iDisplayStart+1}},{title:"NIM",data:"nim",name:"nim",mRender:t=>t||"-"},{title:"Nama",data:"name",name:"name"},{title:"Jenjang",data:"study_program",name:"study_program_id",mRender:t=>{var a;return((a=t==null?void 0:t.education_level)==null?void 0:a.code)||"-"}},{title:"Program Studi",data:"study_program",name:"study_program_id",mRender(t,a,r){return(t==null?void 0:t.name)||"-"}},{title:"Angkatan",data:"entry_date",name:"entry_date",mRender(t,a,r){return t||"-"}},{title:"Status",data:"student_status.name",name:"studentStatus.name",mRender(t,a,r){return`<strong>${t}</strong>`}},{title:"Kelas",data:"class_group.name",name:"class_groups.name",searchable:!1,defaultContent:"-"},{title:"Smt",data:"akm_semester",name:"akm_semester"}],callback:()=>{}});class y extends m{constructor(){super(...arguments);i(this,"base_url","lecture/college-class/"+this.$router.params.id+"/class-participants")}render(){return e("div",{class:"intro-y"},e("div",{className:"card shadow-sm mb-3"},e("div",{className:"card-body"},e("div",{className:"row"},e("div",{className:"col-4"},e("label",{htmlFor:""},"Program Studi"),e("select",{name:"study_program_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},e("option",{value:"all"},"Semua Program Studi"),this.studyPrograms.map(a=>e("option",{value:a.id},a.education_level.code," - ",a.name)))),e("div",{className:"col-4"},e("label",{htmlFor:""},"Angkatan"),e("select",{name:"academic_year_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},e("option",{value:"all"},"Semua Angkatan"),this.academicYears.map(a=>e("option",{value:a.hashid},a.name)))),e("div",{className:"col-4"},e("label",{htmlFor:""},"Grup Kelas"),e("select",{name:"class_group_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},e("option",{value:"all"},"Semua Grup Kelas"),this.classGroups.map(a=>e("option",{value:a.hashid},a.name))))))),e("div",{className:"card shadow-sm mb-3"},e("form",{onSubmit:this.submit},e("div",{className:"card-header border-0"},e("div",{className:"row"},e("div",{className:"col-sm-12 text-sm-end text-center"},e("button",{type:"button",onClick:this.saveBatchInsert,className:"btn btn-primary","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan")))),e("div",{className:"card-body"},e("div",{className:"table-responsive table-card mb-1"},e("form",{action:"",id:"student-list-table"},e("table",{id:"dataTable",className:"table zero-configuration",width:"100%"})))))))}async saveBatchInsert(){const a=window.checkedDataIds,r=new FormData;r.append("college_class_id",this.$router.params.id);for(const o of a)r.append("students[]",o);switch((await u(this.base_url,r,{},!1)).status){case 422:p("danger","Tidak ada mahasiswa terpilih!");break;case 200:this.$router.pushState(`/apps/lecture/college-class/schedule/${this.$router.params.id}/class-participant`);break}}componentDidMount(){this.table=b("#dataTable",g(this.$router.params.id))}async componentWillMount(){const{data:a}=await this.getData({model:["getAcademicYears","studyPrograms","getClassGroups"]});console.log(a),this.studyPrograms=a.studyPrograms,this.classGroups=a.getClassGroups,this.academicYears=a.getAcademicYears.original.academicYears}}i(y,"defaultProps",{data:null,...h(["getData"]),table:null,studyPrograms:[],academicYears:[],classGroups:[]});export{y as default};
