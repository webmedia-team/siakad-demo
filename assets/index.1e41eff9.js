var d=Object.defineProperty;var r=(s,a,t)=>a in s?d(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var l=(s,a,t)=>(r(s,typeof a!="symbol"?a+"":a,t),t);import{A as c,C as m,c as e,g as o}from"./index.d57021e8.js";import{i as u}from"./datatable.4b22066f.js";import{B as b}from"./button.d257158a.js";import{m as h}from"./map-actions.609b7ae0.js";import"./jquery.4c77f39d.js";const p=s=>({url:c+"/lecture/administration/guardianships",table:[{title:'<div class="form-check"><input class="form-check-input" type="checkbox" id="dt-checkbox" /></div>',data:null,id:"code",searchable:!1,orderable:!1,width:"5%",sClass:"text-center",mRender:(a,t,i,n)=>`
                <div class="form-check">
                    <input class="form-check-input dt-checkbox" type="checkbox" value="${i.id}">
                </div>`},{title:"No",data:"id",name:"id",searchable:!1,orderable:!1,width:"5%",mRender:(a,t,i,n)=>n.row+n.settings._iDisplayStart+1},{title:"Nama Dosen",data:"name",name:"name",mRender(a,t,i){return`${i.front_title?`${i.front_title}.`:""}${i.name}${i.back_title?`.${i.back_title}`:""}`}},{title:"Jumlah Mahasiswa Bimbingan",data:"student_total",name:"student_total"},{title:"Sudah Perwalian",data:"finish_guardianship",name:"finish_guardianship"},{title:"Belum Perwalian",data:"unfinish_guardianship",name:"unfinish_guardianship"},{title:"",data:"id",name:"id",mRender(a,t,i){let n="";return n+=`<button type="button" class="btn btn-outline-primary btn-sm mx-1" data-toggle="detail" data-id="${a}"><i class="bx bx-menu"></i></button>`,n}}],callback:()=>{$('button[data-toggle="detail"]').unbind().on("click",function(a){a.preventDefault(),s($(this).data("id"))})}}),f="lecture/administration/guardianships";class g extends m{render(){var a,t;return e("div",{className:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},e("h4",{className:"mb-sm-0"},(a=this.meta.title)!=null?a:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Perkuliahan"),e("li",{className:"breadcrumb-item"},"Administrasi"),e("li",{className:"breadcrumb-item active"},(t=this.meta.title)!=null?t:"Untitled Page")))))),e("div",{className:"card"},e("div",{className:"card-header border-0 d-flex justify-content-between"},e("h5",{className:"d-inline-block mt-2"}),e("div",{className:"text-sm-end text-center"},e("div",{className:"dt-actions d-inline"}),e(b,{data:{refresh:!0,filter:!1,create:!1}}))),e("div",{className:"card-body"},e("div",{className:"table-responsive table-card mb-1"},e("table",{className:"table zero-configuration",width:"100%",id:"dataTable"}," ")))))}async componentWillMount(){const a=o(f,{hideSuccessNotification:!0,hideLoadingBar:!0}),t=this.getData({model:["academicPeriods"]}),[i,n]=await Promise.all([a,t]);this.academicPeriods=n.data.academicPeriods,this.employeeGuardianships=i.data.guardianships}componentDidMount(){this.table=u("#dataTable",p(this.showDetail))}showDetail(a){this.$router.pushName("apps.lecture.adminstrations.guardianships.detail",{employeeId:a})}}l(g,"defaultProps",{...h(["getData"]),academicPeriods:[],employeeGuardianships:[],table:null});export{g as default};
