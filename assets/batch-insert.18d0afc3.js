var d=Object.defineProperty;var o=(r,e,t)=>e in r?d(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var l=(r,e,t)=>(o(r,typeof e!="symbol"?e+"":e,t),t);import{A as n,C as c,c as a,p as u,t as p}from"./index.d57021e8.js";import{m as b}from"./map-actions.609b7ae0.js";import{i as h}from"./datatable.4b22066f.js";const g=r=>({url:n+`/lecture/administration/guardianships/${r}/get-student-list`,table:[{title:'<div class="form-check"><input class="form-check-input" type="checkbox" id="dt-checkbox" /></div>',data:null,id:"id",searchable:!1,orderable:!1,width:"5%",sClass:"text-center",mRender(e,t,i,s){return`
                    <div class="form-check">
                        <input class="form-check-input dt-checkbox" type="checkbox" value="${i.id}">
                    </div>`}},{title:"No",data:"id",name:"id",searchable:!1,orderable:!1,width:"5%",mRender(e,t,i,s){return s.row+s.settings._iDisplayStart+1}},{title:"NIM",data:"nim",name:"nim",mRender:e=>e||"-"},{title:"Nama",data:"name",name:"name"},{title:"Jenjang",data:"study_program",name:"study_program_id",mRender:e=>{var t;return((t=e==null?void 0:e.education_level)==null?void 0:t.code)||"-"}},{title:"Program Studi",data:"study_program",name:"study_program_id",mRender(e,t,i){return(e==null?void 0:e.name)||"-"}},{title:"Angkatan",data:"entry_date",name:"entry_date",mRender(e,t,i){return e||"-"}},{title:"Status",data:"student_status.name",name:"studentStatus.name",mRender(e,t,i){return`<strong>${e}</strong>`}},{title:"Kelas",data:"class_group.name",name:"class_groups.name",searchable:!1,defaultContent:"-"},{title:"Smt",data:"akm_semester",name:"akm_semester"}],callback:()=>{}});class v extends c{constructor(){super(...arguments);l(this,"base_url","lecture/administration/guardianships/"+this.$router.params.employeeId)}render(){var t,i;return a("div",{class:"intro-y"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},a("h4",{className:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),a("div",{className:"page-title-right"},a("div",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-link",{link:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Perkuliahan"),a("li",{className:"breadcrumb-item"},"Administrasi"),a("li",{className:"breadcrumb-item"},"Detail Mahasiswa Bimbingan"),a("li",{className:"breadcrumb-item active"},(i=this.meta.title)!=null?i:"Untitled Page")))))),a("div",{className:"card shadow-sm mb-3"},a("div",{className:"card-body"},a("div",{className:"row"},a("div",{className:"col-4"},a("label",{htmlFor:""},"Program Studi"),a("select",{name:"study_program_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},a("option",{value:"all"},"Semua Program Studi"),this.studyPrograms.map(s=>a("option",{value:s.id},s.education_level.code," - ",s.name)))),a("div",{className:"col-4"},a("label",{htmlFor:""},"Angkatan"),a("select",{name:"academic_year_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},a("option",{value:"all"},"Semua Angkatan"),this.academicYears.map(s=>a("option",{value:s.hashid},s.name)))),a("div",{className:"col-4"},a("label",{htmlFor:""},"Grup Kelas"),a("select",{name:"class_group_id",id:"employee-status-id",className:"form-control dt-filter-input js-choices"},a("option",{value:"all"},"Semua Grup Kelas"),this.classGroups.map(s=>a("option",{value:s.hashid},s.name))))))),a("div",{className:"card shadow-sm mb-3"},a("form",{onSubmit:this.submit},a("div",{className:"card-header border-0"},a("div",{className:"row"},a("div",{className:"col-sm-12 text-sm-end text-center"},a("button",{type:"button",onClick:this.saveBatchInsert,className:"btn btn-primary","data-form-loading":!0},a("i",{className:"bx bx-save"})," Tambahkan")))),a("div",{className:"card-body"},a("div",{className:"table-responsive table-card mb-1"},a("form",{action:"",id:"student-list-table"},a("table",{id:"dataTable",className:"table zero-configuration",width:"100%"})))))))}async saveBatchInsert(){const t=window.checkedDataIds,i=new FormData;i.append("college_class_id",this.$router.params.id);for(const m of t)i.append("students[]",m);switch((await u(this.base_url,i,{},!1)).status){case 422:p("danger","Tidak ada mahasiswa terpilih!");break;case 200:this.$router.pushState(`/apps/lecture/administration/guardianships/${this.$router.params.employeeId}`);break}}componentDidMount(){this.table=h("#dataTable",g(this.$router.params.employeeId))}async componentWillMount(){const{data:t}=await this.getData({model:["getAcademicYears","studyPrograms","getClassGroups"]});this.studyPrograms=t.studyPrograms,this.classGroups=t.getClassGroups,this.academicYears=t.getAcademicYears.original.academicYears}}l(v,"defaultProps",{data:null,...b(["getData"]),table:null,studyPrograms:[],academicYears:[],classGroups:[]});export{v as default};
