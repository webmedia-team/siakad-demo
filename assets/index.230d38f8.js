var l=Object.defineProperty;var d=(t,e,i)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var s=(t,e,i)=>(d(t,typeof e!="symbol"?e+"":e,i),i);import{A as c,B as o,C as m,c as a,g as u,p as h,u as g}from"./index.d57021e8.js";import"./jquery.4c77f39d.js";import{H as p}from"./header-component.e9afed59.js";import{i as b}from"./datatable.4b22066f.js";const _=()=>({url:c+"/student/academic/her-registrations",table:[{title:'<div class="form-check"><input class="form-check-input" type="checkbox" id="dt-checkbox" /></div>',data:null,id:"code",searchable:!1,orderable:!1,width:"5%",sClass:"text-center",mRender:(t,e,i,r)=>`
                <div class="form-check">
                    <input class="form-check-input dt-checkbox" type="checkbox" value="${i.id}">
                </div>`},{title:"No",data:"id",name:"id",searchable:!1,orderable:!1,width:"5%",mRender:(t,e,i,r)=>r.row+r.settings._iDisplayStart+1},{title:"Periode Akademik",data:"academic_period.name",name:"academicPeriod.name"},{title:"Biaya UKT",data:"tuition_fee",name:"tuition_fee",mRender(t){return`Rp. ${Intl.NumberFormat("id").format(t)}`}},{title:"Tanggal Pembayaran",data:"payment_date",name:"payment_date"},{title:"Bukti Pembayaran",data:"attachment",name:"attachment",defaultContent:"-",mRender(t,e,i){return t?`<a href="${o}/storage/images/lecture/administration/her-registrations/${t}" target="_blank">Lihat Bukti Pembayaran</a>`:null}},{title:"Valid",data:"is_acc",name:"is_acc",mRender(t,e,i){return t?'<div class="badge bg-primary">Diterima</div>':i.validator_id?'<div class="badge bg-danger">Ditolak</div>':'<div class="badge bg-warning">Menunggu Validasi</div>'}}],callback:()=>{}});g("");const n="student/academic/her-registrations";class f extends m{render(){var e,i,r;return a("div",{className:"intro-y"},a("div",{className:"container"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items center justify-content-between"},a("h4",{className:"mb-sm-0"},(e=this.meta.title)!=null?e:"Untitled Page"),a("div",{className:"page-title-right"},a("div",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-link",{link:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Akademik"),a("li",{className:"breadcrumb-item active"},(i=this.meta.title)!=null?i:"Untitled Page")))))),a(p,null),a("div",{className:"card"},a("div",{className:"card-header"},a("h5",{className:"card-title mb-0"},"Pembayaran")),a("div",{className:"card-body"},this.is_herregistration_opened?this.already_registered?a("div",{className:"text-center"},a("h4",null,"Anda Sudah Melakukan Daftar Ulang!"),a("lord-icon",{src:"https://cdn.lordicon.com/hrqqslfe.json",trigger:"loop",style:"width:250px;height:250px"}),a("p",null,"Status daftar ulang anda saat ini : ",this.her_registrations.is_acc?a("div",{class:"badge bg-primary"},"Diterima"):this.her_registrations.validator_id==null?a("div",{class:"badge bg-warning"},"Menunggu Validasi"):a("div",{class:"badge bg-danger"},"Ditolak"))):this.contact_admin_alert?a("div",{className:"text-center"},a("h4",null,"Anda Tidak Dapat Melakukan Daftar Ulang"),a("lord-icon",{src:"https://cdn.lordicon.com/zpxybbhl.json",trigger:"loop",colors:"primary:#121331,secondary:#6691e7",style:"width:250px;height:250px"}),a("p",null,"Mohon hubungi admin terkait dengan status kemahasiswaan anda ")):this.is_grade_under_minimum?a("div",{className:"text-center"},a("h4",null,"Anda Tidak Dapat Melakukan Daftar Ulang"),a("lord-icon",{src:"https://cdn.lordicon.com/cvpqeffe.json",trigger:"hover",colors:"primary:#121331,secondary:#6691e7",style:"width:250px;height:250px"}),a("p",null,"Terdapat nilai D / E pada matkul yang anda tempuh di semester sebelumnya. Silahkan melakukan perbaikan nilai terlebih dahulu ")):this.is_registered_akm?a("div",{className:"row"},a("div",{className:"col-lg-4 col-md-6 text-center"},a("lord-icon",{src:"https://cdn.lordicon.com/cjieiyzp.json",trigger:"loop",colors:"primary:#121331,secondary:#6691e7",style:"width:250px;height:250px"})),a("div",{className:"col-lg-8 col-md-6"},a("form",{action:"",encType:"multipart/form-data",onSubmit:this.submit},a("h5",null,"Rincian Pembayaran"),a("p",{className:"mb-0"},"Periode Akademik : ",(r=this.herregistration_academic_period)==null?void 0:r.name),a("div",{className:"card mt-4 mb-0"},a("div",{className:"card-body"},a("table",{cellPadding:5,className:"w-100"},a("tr",null,a("td",null,"UKT Mahasiswa"),a("td",{className:"text-end"},"Rp. ",new Intl.NumberFormat("id").format(this.tuition_fee))),a("tr",{style:{borderTop:"1px solid var(--vz-border-color)"}},a("td",null,a("strong",null,"Total")),a("td",{className:"text-end"},a("strong",null,"Rp. ",new Intl.NumberFormat("id").format(this.tuition_fee))))))),a("label",{htmlFor:"attachment-file",className:"form-label mt-4"},"Bukti Pembayaran ",a("span",{className:"text-danger"},"*")),a("br",null),a("input",{type:"file",name:"attachment_file",id:"attachment-file",className:"filepond form-control"}),a("p",{className:"mb-0 mt-2"},a("span",{className:"text-danger"},"*")," File didukung : png, jpg, jpeg, pdf. Ukuran maks 5 MB"),a("button",{className:"btn btn-primary w-100 mt-3",type:"submit"},"Kirimkan")))):a("div",{className:"text-center"},a("h4",null,"Anda Tidak Dapat Melakukan Daftar Ulang"),a("lord-icon",{src:"https://cdn.lordicon.com/cvpqeffe.json",trigger:"hover",colors:"primary:#121331,secondary:#6691e7",style:"width:250px;height:250px"}),a("p",null,"Data anda tidak terdaftar dalam AKM ! Silahkan hubungi admin")):a("div",{className:"text-center"},a("lord-icon",{src:"https://cdn.lordicon.com/inrunzby.json",trigger:"loop",style:"width:250px;height:250px"}),a("h4",{className:"mt-2 mb-5"},"Daftar Ulang Belum Dibuka!")))),a("div",{className:"card"},a("div",{className:"card-header border-0"},a("h5",{className:"card-title mb-0"},"Riwayat Daftar Ulang")),a("div",{className:"card-body"},a("div",{className:"table-responsive table-card mb-1"},a("div",{className:"table-responsive table-card mb-1 table-no-search"},a("div",{className:"text-end mt-3 me-3"}),a("table",{className:"table zero-configuration",id:"data-table",width:"100%"})))))))}async componentWillMount(){const{data:e}=await u(`${n}/data`,{hideSuccessNotification:!0,hideLoadingBar:!0});this.already_registered=e.already_registered,this.is_herregistration_opened=e.is_heregistration_opened,this.is_grade_under_minimum=e.is_grade_under_minimum&&!e.bypass_minimum_grade,this.is_registered_akm=e.is_registered_on_akm,this.already_registered?this.her_registrations=e.heregistration:(this.herregistration_academic_period=e.herregistration_academic_period,this.tuition_fee=e.tuition_fee||0,this.contact_admin_alert=e.contact_admin_alert)}componentDidMount(){this.table=b("#data-table",_())}async submit(e){e.preventDefault(),(await h(`${n}`,e.target)).status==200&&this.$router.reload()}}s(f,"defaultProps",{courseCurriculums:[],tuition_fee:0,is_herregistration_opened:!1,contact_admin_alert:!1,herregistration_academic_period:{},already_registered:null,is_registered_akm:null,her_registrations:{},is_grade_under_minimum:null,table:null});export{f as default};
