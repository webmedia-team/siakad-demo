var v=Object.defineProperty;var y=(l,e,t)=>e in l?v(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var N=(l,e,t)=>(y(l,typeof e!="symbol"?e+"":e,t),t);import{C as x,c as a,p as f,g as P}from"./index.d57021e8.js";import{m as k}from"./map-actions.609b7ae0.js";const o="master/contact-persons";class w extends x{render(){var e,t,m,c,r,n,d,p,h,u,b,g;return a("div",{className:"intro-y"},a("div",{className:"row"},a("div",{className:"col-12"},a("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},a("h4",{className:"mb-sm-0 title"},(t=(e=this.meta)==null?void 0:e.title)!=null?t:"Untitled Page"),a("div",{className:"page-title-right"},a("ol",{className:"breadcrumb"},a("li",{className:"breadcrumb-item"},a("router-name",{name:"apps.dashboard"},"Dashboard")),a("li",{className:"breadcrumb-item"},"Data Pelengkap"),a("li",{className:"breadcrumb-item"},"Perguruan Tinggi"),a("li",{className:"breadcrumb-item"},a("router-name",{name:"apps.master.contact-persons"},"Kontak Person")),a("li",{className:"breadcrumb-item active title"},(c=(m=this.meta)==null?void 0:m.title)!=null?c:"Untitled Page")))))),a("div",{className:"card intro-y"},a("div",{className:"card-body"},a("form",{onsubmit:this.submit},a("div",{className:"mb-3"},a("div",{className:"row"},a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"name",className:"form-label"},"Nama Pegawai  ",a("i",{className:"text-danger"},"*")),a("input",{type:"text",className:"form-control",name:"name",placeholder:"Nama Pegawai ",autoComplete:"off",value:(r=this.data)==null?void 0:r.name})),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"front-title",className:"form-label"},"Gelar Depan "),a("input",{type:"text",className:"form-control",name:"front_title",placeholder:"Gelar Depan ",autoComplete:"off",value:(n=this.data)==null?void 0:n.front_title})),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"back-title",className:"form-label"},"Gelar Belakang "),a("input",{type:"text",className:"form-control",name:"back_title",placeholder:"Gelar Belakang ",autoComplete:"off",value:(d=this.data)==null?void 0:d.back_title})))),a("div",{className:"mb-3"},a("div",{className:"row"},a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{for:"agency",className:"form-label"},"Perusahaan ",a("i",{className:"text-danger"},"*")),a("select",{name:"agency",id:"agency",className:"form-control js-choices"},a("option",{value:""},"Pilih Perusahaan"),this.agencies.map(s=>{var i;return a("option",{value:s.id,selected:Object.keys(this.data).length>0&&((i=this.data)==null?void 0:i.agency_id)==s.id},s.name)}))),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"gender",className:"form-label"},"Jenis Kelamin ",a("i",{className:"text-danger"},"*")),a("select",{name:"gender",id:"gender",className:"form-control js-choices"},a("option",{value:""},"Pilih Jenis Kelamin"),a("option",{value:"L",selected:Object.keys(this.data).length>0&&((p=this.data)==null?void 0:p.gender)=="L"},"Laki-Laki"),a("option",{value:"P",selected:Object.keys(this.data).length>0&&((h=this.data)==null?void 0:h.gender)=="P"},"Perempuan"))),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"religion",className:"form-label"},"Agama "),a("select",{name:"religion",id:"religion",className:"form-control js-choices"},a("option",{value:""},"Pilih Agama"),this.religions.map(s=>{var i;return a("option",{value:s.hashid,selected:Object.keys(this.data).length>0&&((i=this.data)==null?void 0:i.religion.hashid)==s.hashid},s.name)}))))),a("div",{className:"mb-3"},a("div",{className:"row"},a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"phone",className:"form-label"},"Telp  ",a("i",{className:"text-danger"},"*")),a("input",{type:"text",className:"form-control",name:"phone_number",placeholder:"Telp ",autoComplete:"off",value:(u=this.data)==null?void 0:u.phone_number})),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"email",className:"form-label"},"Email "),a("input",{type:"email",className:"form-control",name:"email",placeholder:"Email ",autoComplete:"off",value:(b=this.data)==null?void 0:b.email})),a("div",{className:"col-md-4 col-sm-4 col-12"},a("label",{htmlFor:"address",className:"form-label"},"Alamat "),a("input",{type:"text",className:"form-control",name:"address",placeholder:"Alamat ",autoComplete:"off",value:(g=this.data)==null?void 0:g.address})))),a("div",{className:"card-footer text-end"},a("router-name",{className:"btn btn-dark mx-1",name:"apps.master.contact-persons"},"Kembali"),a("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},a("i",{className:"bx bx-save"})," Simpan"))))))}async submit(e){e.preventDefault();let t;this.$router.params.id?t=await f(`${o}/${this.$router.params.id}`,e.target):t=await f(`${o}`,e.target),t.status==200&&this.$router.pushState("/apps/master/contact-persons")}async componentWillMount(){const e=await this.getAgencies(),t=await this.getReligions();if(this.religions=t.data.religions,this.agencies=e.data.agencies,this.$router.params.id){const{data:m}=await P(`${o}/${this.$router.params.id}`,{hideSuccessNotification:!0});this.data=m.contactPerson}}}N(w,"defaultProps",{...k(["getAgencies","getReligions"]),data:[],agencies:[],religions:[]});export{w as default};
