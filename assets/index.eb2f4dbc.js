var n=Object.defineProperty;var u=(l,t,s)=>t in l?n(l,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[t]=s;var m=(l,t,s)=>(u(l,typeof t!="symbol"?t+"":t,s),s);import{C as p,c as e,g as h,B as g,u as c}from"./index.d57021e8.js";import{m as b}from"./map-actions.609b7ae0.js";const[i,y]=c("");c("");const[r,_]=c(""),[o,f]=c(""),[d,N]=c("");class v extends p{async componentWillMount(){const t={model:["academicYears","academicPeriods","lectureSystem","getEmployees"]},{status:s,data:a}=await this.getData(t);s==200&&(this.academicYears=a.academicYears,this.academicPeriods=a.academicPeriods,this.lectureSystem=a.lectureSystem,this.employee=a.getEmployees)}render(){var t,s;return e("div",{class:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{class:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Laporan"),e("li",{className:"breadcrumb-item"},"Dosen"),e("li",{className:"breadcrumb-item active"},(s=this.meta.title)!=null?s:"Untitled Page")))))),e("div",{className:"card col-5",style:{marginLeft:440}},e("form",{onSubmit:this.handleSubmit},e("div",{className:"card-body"},e("div",{className:"mb-3"},e("label",{htmlFor:""},"Periode Akademik ",e("span",{className:"text-danger"},"*")),e("select",{name:"academic_period_id",id:"academic_period_id",className:"from-control js-choices dt-filter-input",onChange:a=>{f(a.target.value)},required:!0},e("option",{value:""},"Pilih"),this.academicPeriods.map(a=>e("option",{value:a.id,selected:a.id==o},a.name)))),e("div",{className:"mb-3"},e("label",{htmlFor:""},"Sistem Kuliah"),e("select",{name:"lecture_system_id",id:"lecture_sistem",className:"from-control js-choices dt-filter-input",onChange:a=>{y(a.target.value),this.fetchCollegeClass()}},e("option",{value:""},"Pilih"),e("option",{value:"all"},"Semua Sistem Kuliah"),this.lectureSystem.map(a=>e("option",{value:a.hashid,selected:i!="all"?a.hashid==i:i=="all"},a.name)))),e("div",{className:"mb-3"},e("label",{htmlFor:""},"Kelas Kuliah ",e("span",{className:"text-danger"},"*")),e("select",{name:"college_class_id",id:"college_class_id",className:"from-control js-choices dt-filter-input",onChange:a=>{N(a.target.value)},required:!0},e("option",{value:""},"Pilih"),this.collegeClass.map(a=>e("option",{value:a.id,selected:a.id==d},a.name)))),e("div",{className:"mb-3 studentSelected"},e("label",{htmlFor:"employee_id",className:"from-label"},"Pegawai ",e("span",{className:"text-danger"},"*")),e("select",{name:"employee_id",onChange:a=>{_(a.target.value)},id:"employee_id",className:"form-control js-choices",required:!0},e("option",{value:"all"},"Semua Pegawai"),this.employee.map(a=>e("option",{value:a.id,selected:a.id==r},a.name))))),e("div",{className:"card-footer text-end"},e("button",{className:"btn btn-primary",type:"submit","data-form-loading":!0},"Cetak")))))}async fetchCollegeClass(){const t=await h(`report/lecture/get-college-class?academic_period_id=${o}&lecture_system_id=${i}`,{hideSuccessNotification:!0}),s=this;this.setState(()=>{s.collegeClass=t.data.data})}handleSubmit(t){t.preventDefault();const s=`${g}/api/v1/report/lecture/print-recap-schedule-lecture?academic_period_id=${o}&lecture_system_id=${i}&college_class_id=${d}&employee_id=${r}`,a=window.open(`${s}`,"_blank","resizable=yes,scrollbars=yes,status=yes");a&&(a.opener=null,a.location=`${s}`,a.addEventListener("beforeunload",function(){a.location=`${s}`}))}}m(v,"defaultProps",{...b(["getAcademicYears","getData","getLectureSystem","getEmployees"]),table:null,employee:[],academicYears:[],academicPeriods:[],collegeClass:[],lectureSystem:[]});export{v as default};
