var X=Object.defineProperty;var Y=(l,t,a)=>t in l?X(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;var R=(l,t,a)=>(Y(l,typeof t!="symbol"?t+"":t,a),a);import{C as Z,c as e,i as ee,g as te,p as ae}from"./index.d57021e8.js";const T="lecture/class-schedules";class se extends Z{render(){var t,a,c,d,n,i,r,u,m,o,h,p,b,g,N,v,y,_,f,k,x,w,P,S,$,K,A,D,j,H,I,O,C,M;return e("div",{class:"intro-y"},e("div",{className:"row"},e("div",{className:"col-12"},e("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between"},e("h4",{class:"mb-sm-0"},(t=this.meta.title)!=null?t:"Untitled Page"),e("div",{className:"page-title-right"},e("div",{className:"breadcrumb"},e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.dashboard"},"Dashboard")),e("li",{className:"breadcrumb-item"},"Perkuliahan"),e("li",{className:"breadcrumb-item"},"Data Kelas"),e("li",{className:"breadcrumb-item"},e("router-link",{link:"apps.lecture.class-schedules"},"Jadwal Kelas")),e("li",{className:"breadcrumb-item active"},(a=this.meta.title)!=null?a:"Untitled Page")))))),e("div",{className:"card shadow-sm mb-3"},e("div",{className:"card-body"},e("div",{className:"row"},e("div",{className:"col-md-6"},e("table",{cellPadding:"10"},e("tr",null,e("th",null,"Periode Akademik"),e("td",null,(i=(n=(d=(c=this.data[0])==null?void 0:c.college_class)==null?void 0:d.academic_period)==null?void 0:n.name)!=null?i:"-")),e("tr",null,e("th",null,"Program Studi"),e("td",null,"(",(o=(m=(u=(r=this.data[0])==null?void 0:r.college_class)==null?void 0:u.study_program)==null?void 0:m.education_level)==null?void 0:o.code,") ",(g=(b=(p=(h=this.data[0])==null?void 0:h.college_class)==null?void 0:p.study_program)==null?void 0:b.name)!=null?g:"-")),e("tr",null,e("th",null,"Mata Kuliah"),e("td",null,"(",(_=(y=(v=(N=this.data[0])==null?void 0:N.college_class)==null?void 0:v.course)==null?void 0:y.code)!=null?_:"-",") ",(w=(x=(k=(f=this.data[0])==null?void 0:f.college_class)==null?void 0:k.course)==null?void 0:x.name)!=null?w:"-")),e("tr",null,e("th",null,"Nama Kelas"),e("td",null,($=(S=(P=this.data[0])==null?void 0:P.college_class)==null?void 0:S.name)!=null?$:"-")))),e("div",{className:"col-md-6"},e("table",{cellPadding:"10"},e("tr",null,e("th",null,"Sistem Perkuliahan"),e("td",null,(j=(D=(A=(K=this.data[0])==null?void 0:K.college_class)==null?void 0:A.lecture_system)==null?void 0:D.name)!=null?j:"-")),e("tr",null,e("th",null,"Kapasitas"),e("td",null,(O=(I=(H=this.data[0])==null?void 0:H.college_class)==null?void 0:I.capacity)!=null?O:0," Orang")),e("tr",null,e("th",null,"Peserta"),e("td",null,(C=this.data.length)!=null?C:0," Orang"))))))),e("div",{className:"card shadow-sm mb-3"},e("form",{onSubmit:this.submit},e("div",{className:"card-header border-0"},e("div",{className:"row"},e("div",{className:"col-sm-12 text-sm-end text-center"},e("router-name",{className:"btn btn-dark mx-1",name:"apps.lecture.class-schedules"},"Kembali"),ee("update-class-schedule-presences")?e("button",{type:"submit",className:"btn btn-primary","data-form-loading":!0},e("i",{className:"bx bx-save"})," Simpan"):""))),e("div",{className:"card-body"},e("table",{className:"table align-left mb-0"},e("thead",{className:"table-light"},e("tr",null,e("th",null,"No. "),e("th",null,"Nama"),e("th",null,"Status"))),e("tbody",null,this.data.length>0?(M=this.data)==null?void 0:M.map((s,V)=>{var U,z,B,E,J,W,q,F,G,L,Q;return e("tr",null,e("td",null,V+1),e("td",null,e("input",{type:"hidden",name:"student[]",value:s.student_id}),s.student.nim," - ",s.student.name),e("td",{width:400},e("select",{name:"status[]",id:"",className:"form-control js-choices"},e("option",{value:"H",selected:((z=(U=s.student)==null?void 0:U.presence[0])==null?void 0:z.status)=="H"||((E=(B=s.student)==null?void 0:B.presence[0])==null?void 0:E.status)=="0"||((J=s.student)==null?void 0:J.presence.length)<=0},"Hadir"),e("option",{value:"S",selected:((q=(W=s.student)==null?void 0:W.presence[0])==null?void 0:q.status)=="S"},"Sakit"),e("option",{value:"I",selected:((G=(F=s.student)==null?void 0:F.presence[0])==null?void 0:G.status)=="I"},"Izin"),e("option",{value:"A",selected:((Q=(L=s.student)==null?void 0:L.presence[0])==null?void 0:Q.status)=="A"},"Alfa"))))}):e("tr",null,e("td",{colspan:"12"},e("div",{class:"text-center"},e("lord-icon",{src:"https://cdn.lordicon.com/bbnkwdur.json",trigger:"loop",colors:"primary:#405189,secondary:#0ab39c",style:"width:75px;height:75px"}),e("h5",{class:"mt-2"},"Opps! Belum Ada Data"),e("p",{class:"text-muted"},"Data kamu masih kosong."))))))))))}async componentWillMount(){const{data:t}=await te(`${T}/${this.$router.params.id}/presence`,{hideSuccessNotification:!0});this.data=t.classParticipants}async submit(t){t.preventDefault(),(await ae(`${T}/${this.$router.params.id}/presence`,t.target)).status==200&&this.$router.pushState("/apps/lecture/class-schedules")}}R(se,"defaultProps",{data:null});export{se as default};
